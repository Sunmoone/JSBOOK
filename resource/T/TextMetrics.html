
获取文本的尺寸：
var textMetrics = context.measureText(text);
var textWidth = textScale.width;
measureText(text)会依据当前context设置的字体、大小等，返回一个文本text的度量信息对象TextMetrics；
当前html5 canvas中TextMetrics对象，仅包含一个属性，就是width; 




<div class="_content"><div class="_page _mdn"><h1>TextMetrics</h1><p>« <a href="https://developer.mozilla.org/en-US/docs/HTML/Canvas">Canvas API</a></p> <p>The <strong><code>TextMetrics</code></strong> interface represents the dimension of a text in the canvas, as created by the <code><a href="canvasrenderingcontext2d">CanvasRenderingContext2D</a>.<a href="canvasrenderingcontext2d.measuretext" title="CanvasRenderingContext2D.measureText">measureText()</a></code> method.</p> <h2 id="Properties">Properties</h2> <p><em>There is no inherited property.</em></p> <dl>
<dt> <a href="textmetrics.width" title="The documentation about this has not yet been written; please consider contributing!"><code>TextMetrics.width</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> Is a <code>double</code> giving the calculated width of a segment of inline text in CSS pixels. It takes into account the current font of the context.</dd> <dt> <a href="textmetrics.actualboundingboxleft" title="The documentation about this has not yet been written; please consider contributing!"><code>TextMetrics.actualBoundingBoxLeft</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> Is a <code>double</code> giving the distance parallel to the baseline from the alignment point given by the <a href="canvasrenderingcontext2d.textalign" title="The documentation about this has not yet been written; please consider contributing!"><code>CanvasRenderingContext2D.textAlign</code></a> property to the left side of the bounding rectangle of the given text, in CSS pixels.</dd> <dt> <a href="textmetrics.actualboundingboxright" title="The documentation about this has not yet been written; please consider contributing!"><code>TextMetrics.actualBoundingBoxRight</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> Is a <code>double</code> giving the distance parallel to the baseline from the alignment point given by the <a href="canvasrenderingcontext2d.textalign" title="The documentation about this has not yet been written; please consider contributing!"><code>CanvasRenderingContext2D.textAlign</code></a> property to the right side of the bounding rectangle of the given text, in CSS pixels.</dd> <dt> <a href="textmetrics.fontboundingboxascent" title="The documentation about this has not yet been written; please consider contributing!"><code>TextMetrics.fontBoundingBoxAscent</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> Is a <code>double</code> giving the distance from the horizontal line indicated by the <a href="canvasrenderingcontext2d.textbaseline" title="The documentation about this has not yet been written; please consider contributing!"><code>CanvasRenderingContext2D.textBaseline</code></a> attribute to the top of the highest bounding rectangle of all the fonts used to render the text, in CSS pixels.</dd> <dt> <a href="textmetrics.fontboundingboxdescent" title="The documentation about this has not yet been written; please consider contributing!"><code>TextMetrics.fontBoundingBoxDescent</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> Is a <code>double</code> giving the distance from the horizontal line indicated by the <a href="canvasrenderingcontext2d.textbaseline" title="The documentation about this has not yet been written; please consider contributing!"><code>CanvasRenderingContext2D.textBaseline</code></a> attribute to the top of the bounding rectangle of all the fonts used to render the text, in CSS pixels.</dd> <dt> <a href="textmetrics.actualboundingboxascent" title="The documentation about this has not yet been written; please consider contributing!"><code>TextMetrics.actualBoundingBoxAscent</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> Is a <code>double</code> giving the distance from the horizontal line indicated by the <a href="canvasrenderingcontext2d.textbaseline" title="The documentation about this has not yet been written; please consider contributing!"><code>CanvasRenderingContext2D.textBaseline</code></a> attribute to the top of the bounding rectangle used to render the text, in CSS pixels.</dd> <dt> <a href="textmetrics.actualboundingboxdescent" title="The documentation about this has not yet been written; please consider contributing!"><code>TextMetrics.actualBoundingBoxDescent</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> Is a <code>double</code> giving the distance from the horizontal line indicated by the <a href="canvasrenderingcontext2d.textbaseline" title="The documentation about this has not yet been written; please consider contributing!"><code>CanvasRenderingContext2D.textBaseline</code></a> attribute to the bottom of the bounding rectangle used to render the text, in CSS pixels.</dd> <dt> <a href="textmetrics.emheightascent" title="The documentation about this has not yet been written; please consider contributing!"><code>TextMetrics.emHeightAscent</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> Is a <code>double</code> giving the distance from the horizontal line indicated by the <a href="canvasrenderingcontext2d.textbaseline" title="The documentation about this has not yet been written; please consider contributing!"><code>CanvasRenderingContext2D.textBaseline</code></a> property to the top of the <em>em</em> square in the line box, in CSS pixels.</dd> <dt> <a href="textmetrics.emheightdescent" title="The documentation about this has not yet been written; please consider contributing!"><code>TextMetrics.emHeightDescent</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> Is a <code>double</code> giving the distance from the horizontal line indicated by the <a href="canvasrenderingcontext2d.textbaseline" title="The documentation about this has not yet been written; please consider contributing!"><code>CanvasRenderingContext2D.textBaseline</code></a> property to the bottom of the <em>em</em> square in the line box, in CSS pixels.</dd> <dt> <a href="textmetrics.hangingbaseline" title="The documentation about this has not yet been written; please consider contributing!"><code>TextMetrics.hangingBaseline</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> Is a <code>double</code> giving the distance from the horizontal line indicated by the <a href="canvasrenderingcontext2d.textbaseline" title="The documentation about this has not yet been written; please consider contributing!"><code>CanvasRenderingContext2D.textBaseline</code></a> property to the hanging baseline of the line box, in CSS pixels.</dd> <dt> <a href="textmetrics.alphabeticbaseline" title="The documentation about this has not yet been written; please consider contributing!"><code>TextMetrics.alphabeticBaseline</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> Is a <code>double</code> giving the distance from the horizontal line indicated by the <a href="canvasrenderingcontext2d.textbaseline" title="The documentation about this has not yet been written; please consider contributing!"><code>CanvasRenderingContext2D.textBaseline</code></a> property to the alphabetic baseline of the line box, in CSS pixels.</dd> <dt> <a href="textmetrics.ideographicbaseline" title="The documentation about this has not yet been written; please consider contributing!"><code>TextMetrics.ideographicBaseline</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> Is a <code>double</code> giving the distance from the horizontal line indicated by the <a href="canvasrenderingcontext2d.textbaseline" title="The documentation about this has not yet been written; please consider contributing!"><code>CanvasRenderingContext2D.textBaseline</code></a> property to the ideographic baseline of the line box, in CSS pixels.</dd> </dl><h2 id="Methods">Methods</h2> <p><em>There is no specific and no inherited method.</em></p> <h2 id="Specifications" name="Specifications">Specifications</h2> <table class="standard-table">
<thead><tr>
<th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr></thead>
<tbody>
<tr>
<td><a class="external" href="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#textmetrics" lang="en" title="The definition of 'TextMetrics' in that specification.">WHATWG HTML Living Standard</a></td> <td><span class="spec-Living">Living Standard</span></td> <td>No difference from <a class="external" href="http://www.w3.org/html/wg/drafts/2dcontext/html5_canvas_CR/" lang="en" title="The 'HTML Canvas 2D Context (W3C)' specification">HTML Canvas 2D Context (W3C)</a>.</td> </tr>
<tr>
<td><a class="external" href="http://www.w3.org/html/wg/drafts/2dcontext/html5_canvas_CR/#textmetrics" lang="en" title="The definition of 'TextMetrics' in that specification.">HTML Canvas 2D Context (W3C)</a></td> <td><span class="spec-CR">Candidate Recommendation</span></td> <td>Initial definition.</td> </tr>
</tbody>
</table><h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"><tbody>
<tr>
<th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> </tr>
<tr>
<td>Basic support</td> <td>4.0</td> <td>1.5 (1.8)</td> <td>9.0</td> <td>9.0</td> <td>3.1</td> </tr>
<tr>
<td>
<code>actualBoundingBoxLeft</code>, <code>actualBoundingBoxRight</code>, <code>fontBoundingBoxAscent</code>, <code>fontBoundingBoxDescent</code>, <code>actualBoundingBoxAscent</code>, <code>actualBoundingBoxDescent</code>, <code>emHeightAscent</code>, <code>emHeightDescent</code>, <code>hangingBaseline</code>, <code>alphabeticBaseline</code>, <code>ideographicBaseline</code>
</td> <td><span style="color: #f00;">Not supported</span></td> <td><span style="color: #f00;">Not supported</span></td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> </tr>
</tbody></table>
</div> <div id="compat-mobile"> <table class="compat-table"><tbody>
<tr>
<th>Feature</th> <th>Android</th> <th>Firefox Mobile (Gecko)</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr>
<tr>
<td>Basic support</td> <td>2.1</td> <td>1.0 (1.8)</td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> <td>10.0</td> <td>3.2</td> </tr>
<tr>
<td>
<code>actualBoundingBoxLeft</code>, <code>actualBoundingBoxRight</code>, <code>fontBoundingBoxAscent</code>, <code>fontBoundingBoxDescent</code>, <code>actualBoundingBoxAscent</code>, <code>actualBoundingBoxDescent</code>, <code>emHeightAscent</code>, <code>emHeightDescent</code>, <code>hangingBaseline</code>, <code>alphabeticBaseline</code>, <code>ideographicBaseline</code>
</td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> <td><span style="color: #f00;">Not supported</span></td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> </tr>
</tbody></table>
</div> <h2 id="See_also">See also</h2> <ul>
<li>Creator method in <a href="canvasrenderingcontext2d" title="The 2D rendering context for the drawing surface of a &lt;canvas&gt; element. To get this object, call getContext() on a &lt;canvas&gt;, supplying &quot;2d&quot; as the argument:"><code>CanvasRenderingContext2D</code></a>.</li> <li>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas" title="The HTML &lt;canvas&gt; Element can be used to draw graphics via scripting (usually JavaScript). For example, it can be used to draw graphs, make photo compositions or even perform animations. You may (and should) provide alternate content inside the &lt;canvas&gt; block. That content will be rendered both on older browsers that don't support canvas and in browsers with JavaScript disabled."><code>&lt;canvas&gt;</code></a> element and its associated interface, <a href="htmlcanvaselement" title="The HTMLCanvasElement interface provides properties and methods for manipulating the layout and presentation of canvas elements. The HTMLCanvasElement interface also inherits the properties and methods of the HTMLElement interface."><code>HTMLCanvasElement</code></a>
</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2013 Mozilla Contributors<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics</a>
  </p>
</div>
</div></div>