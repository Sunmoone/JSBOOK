<div class="_content"><div class="_page _mdn"><h1>Notification</h1> <div class="notice experimental"> <p><strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for the proper prefixes to use in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the spec changes.</p> </div>  <p>The <code>Notification</code> object is used to configure and display desktop notifications to the user.</p> <h2 id="Method_overview" name="Method_overview">Constructor</h2> <pre>var notification = new Notification(title, options)</pre> <h3 id="Parameters">Parameters</h3> <dl>
<dt> <code>title</code>
</dt> <dd> The title that must be shown within the notification</dd> <dt> <code>options</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd> An object that allows to configure the notification. It can have the following properties:<br><code>dir</code> : The direction of the notification; it can be <code>auto</code>, <code>ltr</code>, or <code>rtl</code><br><code>lang</code>: Specifiy the lang used within the notification. This string must be a valid <a href="http://tools.ietf.org/html/bcp47" title="http://tools.ietf.org/html/bcp47">BCP 47 language tag</a>.<br><code>body</code>: A string representing an extra content to display within the notification<br><code>tag</code>: An ID for a given notification that allows to retrieve, replace or remove it if necessary<br><code>icon</code>: The URL of an image to be used as an icon by the notification</dd> </dl><h2 id="Properties">Properties</h2> <h3 id="Static_properties">Static properties</h3> <p>Those properties are available only on the <code>Notification</code> object itself.</p> <dl>
<dt> <a href="notification.permission" title="The permission property indicates the current permission granted by the user about web notification for the current application."><code>Notification.permission</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> A string representing the current permission to display notifications. Possible value are: <code>denied</code> (the user refuses to have notifications displayed), <code>granted</code> (the user accepts to have notifications displayed), or <code>default</code> (the user choice is unknown and therefore the browser will act as if the value was denied).</dd> </dl><h3 id="Instance_properties">Instance properties</h3> <p>Those properties are available only on instances of the <code>Notification</code> object.</p> <dl>
<dt> <a href="notification.dir" title="The dir property indicates the direction for the language to use within the notification."><code>Notification.dir</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> The direction used by the notification as defined within the constructor options.</dd> <dt> <a href="notification.lang" title="The lang property indicates the language used within the notification."><code>Notification.lang</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> The code lang used by the notification as defined within the constructor options.</dd> <dt> <a href="notification.body" title="The body property represents the text content of the body of the notification."><code>Notification.body</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> The body string used by the notification as defined within the constructor options.</dd> <dt> <a href="notification.tag" title="The tag property indicates the shared id of the notification. It allows to dynamically replace a notification by another notification."><code>Notification.tag</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> The id of the notification (if any) as defined within the constructor options.</dd> <dt> <a href="notification.icon" title="The icon property indicates the URL of the icon to use with the notification."><code>Notification.icon</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> The URL of the image used as an icon as defined within the constructor options.</dd> </dl><h4 id="Event_handlers">Event handlers</h4> <dl>
<dt> <a href="notification.onclick" title="Specifies an event listener to receive click events. These events occur when the user clicks on a displayed Notification."><code>Notification.onclick</code></a>
</dt> <dd> A handler for the <code><a href="globaleventhandlers.click" title="/en-US/docs/Web/API/GlobalEventHandlers.click">click</a></code> event. It is triggered each time the user clicks on the notification.</dd> <dt> <a href="notification.onshow" title="Specifies an event listener to receive show events. These events occur when a Notification is displayed."><code>Notification.onshow</code></a>
</dt> <dd> A handler for the <code><a href="globaleventhandlers.show" title="/en-US/docs/Web/API/GlobalEventHandlers.show">show</a></code> event. It is triggered when the notification is displayed.</dd> <dt> <a href="notification.onerror" title="Specifies an event listener to receive error events. These events occur when something goes wrong with a Notification (in many cases an error prevented the notification from being displayed)."><code>Notification.onerror</code></a>
</dt> <dd> A handler for the <code><a href="globaleventhandlers.error" title="/en-US/docs/Web/API/GlobalEventHandlers.error">error</a></code> event. It is triggered each time the notification encounters an error.</dd> <dt> <a href="notification.onclose" title="Specifies an event listener to receive close events. These events occur when a Notification is closed."><code>Notification.onclose</code></a>
</dt> <dd> A handler for the <code><a href="globaleventhandlers.close" title="/en-US/docs/Web/API/GlobalEventHandlers.close">close</a></code> event. It is triggered when the user closes the notification.</dd> </dl><h2 id="Methods">Methods</h2> <h3 id="Static_methods">Static methods</h3> <p>Those methods are available only on the <code>Notification</code> object itself.</p> <dl>
<dt> <a href="notification.requestpermission" title="The requestPermission static method is used to ask the user for his permission to display a Notification to him."><code>Notification.requestPermission()</code></a>
</dt> <dd> This method is used to ask the user if he allows the page to display notifications.</dd> </dl><h3 id="Instance_methods">Instance methods</h3> <p>Those properties are available only on an instance of the <code>Notification</code> object or through its <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Inheritance_and_the_prototype_chain" title="/en-US/docs/Web/JavaScript/Guide/Inheritance_and_the_prototype_chain"><code>prototype</code></a>.</p> <dl>
<dt> <a href="notification.close" title="The close method is used to close a Notification that has been displayed."><code>Notification.close()</code></a>
</dt> <dd> This method allows to programmatically close a notification.</dd> </dl><p>The <code>Notification</code> objects also inherit from the <a href="eventtarget" title="EventTarget is a DOM interface implemented by objects that can receive DOM events and have listeners for them."><code>EventTarget</code></a> interface.</p> <dl>
<dt> <a href="eventtarget.addeventlistener" title="addEventListener() registers the specified listener on the EventTarget it's called on. The event target may be an Element in a document, the Document itself, a Window, or any other object that supports events (such as XMLHttpRequest)."><code>EventTarget.addEventListener</code></a> ()</dt> <dd> Register an event handler of a specific event type on the <code>EventTarget</code>.</dd> <dt> <a href="eventtarget.removeeventlistener" title="Removes the event listener previously registered with EventTarget.addEventListener."><code>EventTarget.removeEventListener</code></a> ()</dt> <dd> Removes an event listener from the <code>EventTarget</code>.</dd> <dt> <a href="eventtarget.dispatchevent" title="Dispatches an Event at the specified EventTarget, invoking the affected EventListeners in the appropriate order. The normal event processing rules (including the capturing and optional bubbling phase) apply to events dispatched manually with dispatchEvent()."><code>EventTarget.dispatchEvent</code></a> ()</dt> <dd> Dispatch an event to this <code>EventTarget</code>.</dd> </dl> <h2 id="Example">Example</h2> <p>Assume this basic HTML:</p> <pre class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>notifyMe()<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Notify me!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></pre> <p>It's possible to send a notification as follows:</p> <pre class=" language-javascript"><span class="token keyword">function</span> <span class="token function">notifyMe<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment" spellcheck="true"> // Let's check if the browser supports notifications
</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token string">"Notification"</span> <span class="token keyword">in</span> window<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert<span class="token punctuation">(</span></span><span class="token string">"This browser does not support desktop notification"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

 <span class="token comment" spellcheck="true"> // Let's check if the user is okay to get some notification
</span>  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>Notification<span class="token punctuation">.</span>permission <span class="token operator">===</span> <span class="token string">"granted"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // If it's okay let's create a notification
</span>    <span class="token keyword">var</span> notification <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Notification</span><span class="token punctuation">(</span><span class="token string">"Hi there!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

 <span class="token comment" spellcheck="true"> // Otherwise, we need to ask the user for permission
</span> <span class="token comment" spellcheck="true"> // Note, Chrome does not implement the permission static property
</span> <span class="token comment" spellcheck="true"> // So we have to check for NOT 'denied' instead of 'default'
</span>  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>Notification<span class="token punctuation">.</span>permission <span class="token operator">!</span><span class="token operator">==</span> <span class="token string">'denied'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Notification<span class="token punctuation">.</span><span class="token function">requestPermission<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>permission<span class="token punctuation">)</span> <span class="token punctuation">{</span>

     <span class="token comment" spellcheck="true"> // Whatever the user answers, we make sure Chrome stores the information
</span>      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token string">'permission'</span> <span class="token keyword">in</span> Notification<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Notification<span class="token punctuation">.</span>permission <span class="token operator">=</span> permission<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

     <span class="token comment" spellcheck="true"> // If the user is okay, let's create a notification
</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>permission <span class="token operator">===</span> <span class="token string">"granted"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> notification <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Notification</span><span class="token punctuation">(</span><span class="token string">"Hi there!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

 <span class="token comment" spellcheck="true"> // At last, if the user already denied any notification, and you 
</span> <span class="token comment" spellcheck="true"> // want to be respectful there is no need to bother him any more.
</span><span class="token punctuation">}</span></pre> <h3 id="See_the_live_result">See the live result</h3> <p><iframe frameborder="0" height="30" src="https://mdn.mozillademos.org/en-US/docs/Web/API/notification%24samples/Example?revision=481765" width="100%"></iframe></p> <h2 id="Specifications">Specifications</h2> <table class="standard-table">
<thead><tr>
<th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr></thead>
<tbody><tr>
<td><a class="external" href="https://dvcs.w3.org/hg/notifications/raw-file/tip/Overview.html" lang="en" title="The 'Web Notifications' specification">Web Notifications</a></td> <td><span class="spec-WD">Working Draft</span></td> <td>Initial specification.</td> </tr></tbody>
</table><h2 id="Methods" name="Methods">Permissions</h2> <p>When using notifications in an open web app, be sure to add the <code>desktop-notification</code> permission in your manifest file:</p> <pre class="default prettyprint prettyprinted" style=""><code><span class="str">"permissions"</span><span class="pun">:</span><span class="pun">{</span><span class="str">"desktop-notification"</span><span class="pun">:{}</span><span class="pun">}</span></code></pre> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"><tbody>
<tr>
<th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> </tr>
<tr>
<td>Basic support</td> <td>5 <span class="inlineIndicator prefixBox prefixBoxInline" title="prefix">webkit</span> (see notes)<br> 22</td> <td>4.0 <span class="inlineIndicator prefixBox prefixBoxInline" title="prefix">moz</span> (see notes)<br> 22</td> <td><span style="color: #f00;">Not supported</span></td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> <td>6 (see notes)</td> </tr>
</tbody></table>
</div> <div id="compat-mobile"> <table class="compat-table"><tbody>
<tr>
<th>Feature</th> <th>Android</th> <th>Firefox Mobile (Gecko)</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr>
<tr>
<td>Basic support</td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> <td>4.0 <span class="inlineIndicator prefixBox prefixBoxInline" title="prefix">moz</span> (see notes)<br> 22</td> <td><span style="color: #f00;">Not supported</span></td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> </tr>
</tbody></table>
</div> <h3 id="Gecko_notes">Gecko notes</h3> <ul>
<li>Prior to Firefox 22 (Firefox OS &lt;1.2), the instantiation of a new notification must be done with the <a href="https://developer.mozilla.org/en-US/docs/Web/API/window.navigator.mozNotification" title="Provides support for creating notification objects, which are used to display desktop notification alerts to the user. Currently, these are only supported on Firefox Mobile and Firefox OS. See Displaying notifications for an example."><code>navigator.mozNotification</code></a> object through its <code>createNotification</code> method.</li> <li>Prior to Firefox 22 (Firefox OS &lt;1.2), the Notification was displayed when calling the <code>show</code> method and was supporting the <code>click</code> and <code>close</code> events only.</li> <li>Nick Desaulniers has written a <a href="https://github.com/nickdesaulniers/fxos-irc/blob/master/notification.js">Notification shim</a> to cover both newer and older implementations.</li> <li>One particular Firefox OS issue is that you can <a href="https://github.com/nickdesaulniers/fxos-irc/blob/0160cf6c3a2b5c9fe33822aaf6bcba3b7e846da9/my.js#L171">pass a path to an icon</a> to use in the notification, but if the app is packaged you cannot use a relative path like <code>/my_icon.png</code>. You also can't use <code>navigator.location.origin + "/my_icon.png"</code> because <code>navigator.location.origin</code> is null in packaged apps. The <a href="https://developer.mozilla.org/en-US/Apps/Developing/Manifest#origin">manifest origin field</a> fixes this, but it is only available in Firefox OS 1.1+. A potential solution for supporting Firefox OS &lt;1.1 is to <a href="https://github.com/nickdesaulniers/fxos-irc/blob/0160cf6c3a2b5c9fe33822aaf6bcba3b7e846da9/my.js#L168">pass an absolute URL to an externally hosted version of the icon</a>. This is less than ideal as the notification is displayed immediately with the icon missing, then the icon is fetched, but it works on all versions of Firefox OS.</li> </ul><h3 id="Chrome_notes">Chrome notes</h3> <ul>
<li>Prior to Chrome 22, the support for notification was following an <a href="http://www.chromium.org/developers/design-documents/desktop-notifications/api-specification" title="http://www.chromium.org/developers/design-documents/desktop-notifications/api-specification">old prefixed version of the specification</a> and was using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/window.navigator.webkitNotifications" title="The documentation about this has not yet been written; please consider contributing!"><code>navigator.webkitNotifications</code></a> object to instantiate a new notification.</li> <li>Chrome does not implement the <a href="notification.permission" title="The permission property indicates the current permission granted by the user about web notification for the current application."><code>Notification.permission</code></a> property yet.</li> </ul><h3 id="Safari_notes">Safari notes</h3> <ul>
<li>Safari started supporting notification with Safari 6 but only on Mac OSX 10.8+ (Mountain Lion).</li> </ul><h2 id="See_also">See also</h2> <ul>
<li><a href="https://developer.mozilla.org/en-US/docs/WebAPI/Using_Web_Notifications" title="/en-US/docs/WebAPI/Using_Web_Notifications">Using Web Notifications</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notification$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2013 Mozilla Contributors<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notification" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Notification</a>
  </p>
</div>
</div></div>