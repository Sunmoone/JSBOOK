<div class="_page _node"><h1 id="util_util">util</h1> <pre class="api_stability_4">Stability: 4 - API Frozen</pre>
<p>These functions are in the module <code>'util'</code>. Use <code>require('util')</code> to access them. </p> <h2 id="util_util_format_format">util.format(format, [...])</h2> <p>Returns a formatted string using the first argument as a <code>printf</code>-like format. </p> <p>The first argument is a string that contains zero or more <em>placeholders</em>. Each placeholder is replaced with the converted value from its corresponding argument. Supported placeholders are: </p> <ul>
<li>
<code>%s</code> - String.</li> <li>
<code>%d</code> - Number (both integer and float).</li> <li>
<code>%j</code> - JSON.</li> <li>
<code>%</code> - single percent sign (<code>'%'</code>). This does not consume an argument.</li> </ul>
<p>If the placeholder does not have a corresponding argument, the placeholder is not replaced. </p> <pre class=" language-javascript"><code class=" language-javascript">util<span class="token punctuation">.</span><span class="token function">format<span class="token punctuation">(</span></span><span class="token string">'%s:%s'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"> // 'foo:%s'</span></code></pre> <p>If there are more arguments than placeholders, the extra arguments are converted to strings with <code>util.inspect()</code> and these strings are concatenated, delimited by a space. </p> <pre class=" language-javascript"><code class=" language-javascript">util<span class="token punctuation">.</span><span class="token function">format<span class="token punctuation">(</span></span><span class="token string">'%s:%s'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"> // 'foo:bar baz'</span></code></pre> <p>If the first argument is not a format string then <code>util.format()</code> returns a string that is the concatenation of all its arguments separated by spaces. Each argument is converted to a string with <code>util.inspect()</code>. </p> <pre class=" language-javascript"><code class=" language-javascript">util<span class="token punctuation">.</span><span class="token function">format<span class="token punctuation">(</span></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"> // '1 2 3'</span></code></pre> <h2 id="util_util_debug_string">util.debug(string)</h2> <p>A synchronous output function. Will block the process and output <code>string</code> immediately to <code>stderr</code>. </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'util'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">debug<span class="token punctuation">(</span></span><span class="token string">'message on stderr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="util_util_error">util.error([...])</h2> <p>Same as <code>util.debug()</code> except this will output all arguments immediately to <code>stderr</code>. </p> <h2 id="util_util_puts">util.puts([...])</h2> <p>A synchronous output function. Will block the process and output all arguments to <code>stdout</code> with newlines after each argument. </p> <h2 id="util_util_print">util.print([...])</h2> <p>A synchronous output function. Will block the process, cast each argument to a string then output to <code>stdout</code>. Does not place newlines after each argument. </p> <h2 id="util_util_log_string">util.log(string)</h2> <p>Output with timestamp on <code>stdout</code>. </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'util'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'Timestamped message.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="util_util_inspect_object_options">util.inspect(object, [options])</h2> <p>Return a string representation of <code>object</code>, which is useful for debugging. </p> <p>An optional <em>options</em> object may be passed that alters certain aspects of the formatted string: </p> <ul>
<li>
<p><code>showHidden</code> - if <code>true</code> then the object's non-enumerable properties will be shown too. Defaults to <code>false</code>.</p> </li> <li>
<p><code>depth</code> - tells <code>inspect</code> how many times to recurse while formatting the object. This is useful for inspecting large complicated objects. Defaults to <code>2</code>. To make it recurse indefinitely pass <code>null</code>.</p> </li> <li>
<p><code>colors</code> - if <code>true</code>, then the output will be styled with ANSI color codes. Defaults to <code>false</code>. Colors are customizable, see below.</p> </li> <li>
<p><code>customInspect</code> - if <code>false</code>, then custom <code>inspect()</code> functions defined on the objects being inspected won't be called. Defaults to <code>true</code>.</p> </li> </ul>
<p>Example of inspecting all properties of the <code>util</code> object: </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> util <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'util'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>util<span class="token punctuation">.</span><span class="token function">inspect<span class="token punctuation">(</span></span>util<span class="token punctuation">,</span> <span class="token punctuation">{</span> showHidden<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> depth<span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="util_customizing_util_inspect_colors">Customizing <code>util.inspect</code> colors</h3> <p>Color output (if enabled) of <code>util.inspect</code> is customizable globally via <code>util.inspect.styles</code> and <code>util.inspect.colors</code> objects. </p> <p><code>util.inspect.styles</code> is a map assigning each style a color from <code>util.inspect.colors</code>. Highlighted styles and their default values are: <em> <code>number</code> (yellow) </em> <code>boolean</code> (yellow) <em> <code>string</code> (green) </em> <code>date</code> (magenta) <em> <code>regexp</code> (red) </em> <code>null</code> (bold) <em> <code>undefined</code> (grey) </em> <code>special</code> - only function at this time (cyan) * <code>name</code> (intentionally no styling) </p> <p>Predefined color codes are: <code>white</code>, <code>grey</code>, <code>black</code>, <code>blue</code>, <code>cyan</code>, <code>green</code>, <code>magenta</code>, <code>red</code> and <code>yellow</code>. There are also <code>bold</code>, <code>italic</code>, <code>underline</code> and <code>inverse</code> codes. </p> <p>Objects also may define their own <code>inspect(depth)</code> function which <code>util.inspect()</code> will invoke and use the result of when inspecting the object: </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> util <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'util'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'nate'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>inspect <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>depth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'{'</span> <span class="token operator">+</span> this<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'}'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

util<span class="token punctuation">.</span><span class="token function">inspect<span class="token punctuation">(</span></span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment" spellcheck="true"> // "{nate}"</span></code></pre> <h2 id="util_util_isarray_object">util.isArray(object)</h2> <p>Returns <code>true</code> if the given "object" is an <code>Array</code>. <code>false</code> otherwise. </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> util <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'util'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

util<span class="token punctuation">.</span><span class="token function">isArray<span class="token punctuation">(</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
 <span class="token comment" spellcheck="true"> // true
</span>util<span class="token punctuation">.</span><span class="token function">isArray<span class="token punctuation">(</span></span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">)</span>
 <span class="token comment" spellcheck="true"> // true
</span>util<span class="token punctuation">.</span><span class="token function">isArray<span class="token punctuation">(</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token comment" spellcheck="true"> // false</span></code></pre> <h2 id="util_util_isregexp_object">util.isRegExp(object)</h2> <p>Returns <code>true</code> if the given "object" is a <code>RegExp</code>. <code>false</code> otherwise. </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> util <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'util'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

util<span class="token punctuation">.</span><span class="token function">isRegExp<span class="token punctuation">(</span></span><span class="token regex">/some regexp/</span><span class="token punctuation">)</span>
 <span class="token comment" spellcheck="true"> // true
</span>util<span class="token punctuation">.</span><span class="token function">isRegExp<span class="token punctuation">(</span></span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'another regexp'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token comment" spellcheck="true"> // true
</span>util<span class="token punctuation">.</span><span class="token function">isRegExp<span class="token punctuation">(</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token comment" spellcheck="true"> // false</span></code></pre> <h2 id="util_util_isdate_object">util.isDate(object)</h2> <p>Returns <code>true</code> if the given "object" is a <code>Date</code>. <code>false</code> otherwise. </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> util <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'util'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

util<span class="token punctuation">.</span><span class="token function">isDate<span class="token punctuation">(</span></span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token comment" spellcheck="true"> // true
</span>util<span class="token punctuation">.</span><span class="token function">isDate<span class="token punctuation">(</span></span><span class="token function">Date<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token comment" spellcheck="true"> // false (without 'new' returns a String)
</span>util<span class="token punctuation">.</span><span class="token function">isDate<span class="token punctuation">(</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token comment" spellcheck="true"> // false</span></code></pre> <h2 id="util_util_iserror_object">util.isError(object)</h2> <p>Returns <code>true</code> if the given "object" is an <code>Error</code>. <code>false</code> otherwise. </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> util <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">'util'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

util<span class="token punctuation">.</span><span class="token function">isError<span class="token punctuation">(</span></span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token comment" spellcheck="true"> // true
</span>util<span class="token punctuation">.</span><span class="token function">isError<span class="token punctuation">(</span></span><span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token comment" spellcheck="true"> // true
</span>util<span class="token punctuation">.</span><span class="token function">isError<span class="token punctuation">(</span></span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Error'</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">'an error occurred'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token comment" spellcheck="true"> // false</span></code></pre> <h2 id="util_util_pump_readablestream_writablestream_callback">util.pump(readableStream, writableStream, [callback])</h2> <pre class="api_stability_0">Stability: 0 - Deprecated: Use readableStream.pipe(writableStream)</pre>
<p>Read the data from <code>readableStream</code> and send it to the <code>writableStream</code>. When <code>writableStream.write(data)</code> returns <code>false</code> <code>readableStream</code> will be paused until the <code>drain</code> event occurs on the <code>writableStream</code>. <code>callback</code> gets an error as its only argument and is called when <code>writableStream</code> is closed or when an error occurs. </p> <h2 id="util_util_inherits_constructor_superconstructor">util.inherits(constructor, superConstructor)</h2> <p>Inherit the prototype methods from one <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/constructor">constructor</a> into another. The prototype of <code>constructor</code> will be set to a new object created from <code>superConstructor</code>. </p> <p>As an additional convenience, <code>superConstructor</code> will be accessible through the <code>constructor.super_</code> property. </p> <pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> util <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">"util"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> events <span class="token operator">=</span> <span class="token function">require<span class="token punctuation">(</span></span><span class="token string">"events"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">MyStream<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    events<span class="token punctuation">.</span>EventEmitter<span class="token punctuation">.</span><span class="token function">call<span class="token punctuation">(</span></span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

util<span class="token punctuation">.</span><span class="token function">inherits<span class="token punctuation">(</span></span>MyStream<span class="token punctuation">,</span> events<span class="token punctuation">.</span>EventEmitter<span class="token punctuation">)</span><span class="token punctuation">;</span>

MyStream<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>write <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    this<span class="token punctuation">.</span><span class="token function">emit<span class="token punctuation">(</span></span><span class="token string">"data"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> stream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>stream <span class="token keyword">instanceof</span> <span class="token class-name">events<span class="token punctuation">.</span>EventEmitter</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"> // true
</span>console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>MyStream<span class="token punctuation">.</span>super_ <span class="token operator">===</span> events<span class="token punctuation">.</span>EventEmitter<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"> // true
</span>
stream<span class="token punctuation">.</span><span class="token function">on<span class="token punctuation">(</span></span><span class="token string">"data"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'Received data: "'</span> <span class="token operator">+</span> data <span class="token operator">+</span> <span class="token string">'"'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
stream<span class="token punctuation">.</span><span class="token function">write<span class="token punctuation">(</span></span><span class="token string">"It works!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"> // Received data: "It works!"</span></code></pre><div class="_attribution">
  <p class="_attribution-p">
    © Joyent, Inc. and other Node contributors<br>Licensed under the MIT License.<br>
    <a href="http://nodejs.org/api/util.html" class="_attribution-link">http://nodejs.org/api/util.html</a>
  </p>
</div>
</div>