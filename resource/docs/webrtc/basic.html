<div class="l w-640">

<div class="content-h1">
<h1>WebRTC</h1>
</div>
<div id="unifyprompt" class="information" style="">
<div class="summary"><p>WebRTC是一项在浏览器内部进行实时视频和音频通信的技术，是谷歌2010年以6820万美元收购收购Global IP Solutions公司而获得一项技术。</p>

</div>
</div>
<div id="content">

				<div class="content_h2 bac_no">
				<h2 class="mar-t10">
<a id="bjbd" href="#" secid="1" target="_self"> </a><a name="1"> </a>WebRTC -
				简介</h2>
			</div>
		<p>　　WebRTC是一项在<a target="_blank" href="http://www.baike.com/wiki/%E6%B5%8F%E8%A7%88%E5%99%A8" class="innerlink" title="浏览器">浏览器</a>内部进行实时视频和音频通信的技术，是谷歌2010年以6820万美元收购收购Global IP Solutions公司而获得一项技术。<a name="ref_&amp;#91;1&amp;#93;_5916097"></a>
<br><br>　　WebRTC实现了基于网页的视频会议，标准是WHATWG 协议，目的是通过浏览器提供简单的javascript就可以达到实时通讯（Real-Time Communications (RTC)）能力。
<br><br>　　WebRTC（Web Real-Time Communication）项目的最终目的主要是让Web开发者能够基于浏览器（Chrome\FireFox\...）轻易快捷开发出丰富的实时多媒体应用，而无需下载安装任何插件，Web开发者也无需关注多媒体的数字信号处理过程，只需编写简单的Javascript程序即可实现，W3C等组织正在制定Javascript 标准API，目前是WebRTC 1.0版本，Draft状态；另外WebRTC还希望能够建立一个多互联网浏览器间健壮的实时通信的平台，形成开发者与浏览器厂商良好的生态环境。同时，Google也希望和致力于让WebRTC的技术成为HTML5标准之一，可见Google布局之深远。<a name="ref_&amp;#91;2&amp;#93;_5916097"></a>
<br><br>　　WebRTC提供了视频会议的核心技术，包括音视频的采集、编解码、<a target="_blank" href="http://www.baike.com/wiki/%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93" class="innerlink" title="网络传输">网络传输</a>、显示等功能，并且还支持跨平台：windows，linux，mac，android。</p><div class="content_h2"><h2 class="mar-t10">
<a id="bjbd" href="#" secid="3" target="_self"> </a><a name="3"> </a>WebRTC -
				架构</h2>
			</div>
		<p></p><div class="img img_r" style="width: 740px;"><a href="http://tupian.baike.com/a3_10_87_01200000194037134400872713336_jpg.html?prd=zhengwenye_left_neirong_tupian" target="_blank" title="WebRTC架构图"><img alt="WebRTC架构图" title="WebRTC架构图" src="http://a3.att.hudong.com/10/87/01200000194037134400872713336_s.jpg"></a><a target="_blank" class="magnify" href="http://tupian.baike.com/a3_10_87_01200000194037134400872713336_jpg.html?prd=zhengwenye_left_neirong_tupian" name="enlargegif" id="enlargegif" title="查看大图"></a><strong>WebRTC架构图</strong></div>
<br><br>　　架构图颜色标识说明：<a name="ref_&amp;#91;3&amp;#93;_5916097"></a>
<br><br>　　（1）紫色部分是Web开发者API层；
<br><br>　　（2）蓝色实线部分是面向浏览器厂商的API层
<br><br>　　（3）蓝色虚线部分浏览器厂商可以自定义实现<div class="hdwiki_tmmml"><a name="2_1"></a><a name="sub5916097_2_1"></a>WebRTC架构组件介绍</div><p>　　<b>(1) Your Web App</b>
<br><br>　　Web开发者开发的程序，Web开发者可以基于集成WebRTC的浏览器提供的web API开发基于视频、音频的实时通信应用。<a name="ref_&amp;#91;2&amp;#93;_5916097"></a>
<br><br>　　<b><b>(2) </b>Web API</b>
<br><br>　　面向第三方开发者的WebRTC标准API（Javascript），使开发者能够容易地开发出类似于网络视频聊天的web应用，最新的标准化进程可以查看<a target="_blank" href="http://www.baike.com/wiki/%E8%BF%99%E9%87%8C" class="innerlink" title="这里"><b>这里</b></a>。
<br><br>　　<b><b>(3) </b>WebRTC Native C++ API</b>
<br><br>　　本地C++ API层，使浏览器厂商容易实现WebRTC标准的Web API，抽象地对数字信号过程进行处理。
<br><br>　　<b><b>(4) </b>Transport / Session</b>
<br><br>　　传输/会话层
<br><br>　　会话层组件采用了<a class="innerlink" title="Libjingle" href="http://www.baike.com/wiki/Libjingle">Libjingle</a>库的部分组件实现，无须使用xmpp/jingle协议
<br><br>　　<b>a. RTP Stack协议栈</b>
<br><br>　　Real <a class="innerlink" title="Time Protocol" href="http://www.baike.com/wiki/Time+Protocol">Time Protocol</a>
<br><br>　　<b>b. STUN/ICE</b>
<br><br>　　可以通过STUN和ICE组件来建立不同类型网络间的呼叫连接。
<br><br>　　<b>c. Session Management</b>
<br><br>　　一个抽象的会话层，提供会话建立和管理功能。该层协议留给应用开发者自定义实现。
<br><br>　　<b><b>(5) </b>VoiceEngine</b>
<br><br>　　音频引擎是包含一系列音频多媒体处理的框架，包括从视频采集卡到网络传输端等整个解决方案。
<br><br>　　PS：VoiceEngine是WebRTC极具价值的技术之一，是Google收购GIPS公司后开源的。在VoIP上，技术业界领先，后面的文章会详细了解
<br><br>　　<b>a. iSAC</b>
<br><br>　　Internet Speech Audio Codec
<br><br>　　针对VoIP和音频流的宽带和超宽带音频编解码器，是WebRTC音频引擎的默认的编解码器
<br><br>　　采样频率：16khz，24khz，32khz；（默认为16khz）
<br><br>　　自适应速率为10kbit/s ~ 52kbit/；
<br><br>　　自适应包大小：30~60ms；
<br><br>　　算法延时：frame + 3ms
<br><br>　　<b><b>b. </b><a class="innerlink" title="iLBC" href="http://www.baike.com/wiki/iLBC">iLBC</a></b>
<br><br>　　Internet Low Bitrate Codec
<br><br>　　VoIP音频流的窄带语音编解码器
<br><br>　　采样频率：8khz；
<br><br>　　20ms帧比特率为15.2kbps
<br><br>　　30ms帧比特率为13.33kbps
<br><br>　　标准由IETF RFC3951和RFC3952定义
<br><br>　　<b><b>c. </b>NetEQ for Voice</b>
<br><br>　　针对音频软件实现的语音信号处理元件
<br><br>　　NetEQ算法：自适应抖动控制算法以及语音包丢失隐藏算法。使其能够快速且高解析度地适应不断变化的网络环境，确保音质优美且缓冲延迟最小。
<br><br>　　是GIPS公司独步天下的技术，能够有效的处理由于<a class="innerlink" title="网络抖动" href="http://www.baike.com/wiki/%E7%BD%91%E7%BB%9C%E6%8A%96%E5%8A%A8">网络抖动</a>和语音包丢失时候对语音质量产生的影响。
<br><br>　　PS：NetEQ 也是WebRTC中一个极具价值的技术，对于提高VoIP质量有明显效果，加以AEC\NR\AGC等模块集成使用，效果更好。
<br><br>　　<b><b>d. </b>Acoustic Echo Canceler (AEC)</b>
<br><br>　　回声消除器是一个基于软件的信号处理元件，能实时的去除mic采集到的回声。
<br><br>　　<b><b>e. </b>Noise Reduction (NR)</b>
<br><br>　　噪声抑制也是一个基于软件的信号处理元件，用于消除与相关VoIP的某些类型的背景噪声（嘶嘶声，风扇噪音等等… …）
<br><br>　　<b><b>(6) </b>VideoEngine</b>
<br><br>　　WebRTC视频处理引擎
<br><br>　　VideoEngine是包含一系列视频处理的整体框架，从摄像头采集视频到视频信息网络传输再到视频显示整个完整过程的解决方案。
<br><br>　　<b>a. VP8</b>
<br><br>　　视频图像编解码器，是WebRTC视频引擎的默认的编解码器
<br><br>　　VP8适合实时通信应用场景，因为它主要是针对低延时而设计的编解码器。
<br><br>　　PS:<a class="innerlink" title="VPX" href="http://www.baike.com/wiki/VPX">VPX</a>编解码器是Google收购ON2公司后开源的，VPx现在是WebM项目的一部分，而WebM项目是Google致力于推动的HTML5标准之一
<br><br>　　<b>b. Video Jitter Buffer</b>
<br><br>　　视频抖动缓冲器，可以降低由于视频抖动和视频信息包丢失带来的不良影响。
<br><br>　　<b>c. Image enhancements</b>
<br><br>　　图像质量增强模块
<br><br>　　对网络摄像头采集到的图像进行处理，包括明暗度检测、颜色增强、降噪处理等功能，用来提升视频质量。</p><div class="content_h2"><h2 class="mar-t10">
<a id="bjbd" href="#" secid="5" target="_self"> </a><a name="5"> </a>WebRTC -
				相关</h2>
			</div>
		<p>　　谷歌2011年6月3日宣布向开发人员开放WebRTC架构的<a target="_blank" href="http://www.baike.com/wiki/%E6%BA%90%E4%BB%A3%E7%A0%81" class="innerlink" title="源代码">源代码</a>。这个源代码将根据没有专利费的BSD（<a target="_blank" href="http://www.baike.com/wiki/%E4%BC%AF%E5%85%8B%E5%88%A9" class="innerlink" title="伯克利">伯克利</a>软件发布）式的许可证向用户提供。<a name="ref_&amp;#91;4&amp;#93;_5916097"></a>目前，开发人员可访问并获取WebRTC的源代码、规格说明和工具等。<a name="ref_&amp;#91;1&amp;#93;_5916097"></a></p><div class="content_h2"><h2 class="mar-t10">
<a id="bjbd" href="#" secid="7" target="_self"> </a><a name="7"> </a>WebRTC -
				分析</h2>
			</div>
		<p></p><div class="hdwiki_tmmml"><a name="4_1"></a><a name="sub5916097_4_1"></a>视频</div><p>　　WebRTC的视频部分，包含采集、编解码(<a class="innerlink" title="I420" href="http://www.baike.com/wiki/I420">I420</a>/VP8)、加密、媒体文件、<a target="_blank" href="http://www.baike.com/wiki/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86" class="innerlink" title="图像处理">图像处理</a>、显示、网络传输与流控(<a target="_blank" href="http://www.baike.com/wiki/RTP%2FRTCP" class="innerlink" title="RTP/RTCP">RTP/RTCP</a>)等功能。
<br><br>　　<b>视频采集---video_capture </b>
<br><br>　　源代码在webrtc\modules\video_capture\main目录下，包含接口和各个平台的源代码。
<br><br>　　在windows平台上，WebRTC采用的是dshow技术，来实现枚举视频的设备信息和视频数据的采集，这意味着可以支持大多数的视频采集设备；对那些需要单独驱动程序的视频采集卡（比如<a target="_blank" href="http://www.baike.com/wiki/%E6%B5%B7%E5%BA%B7" class="innerlink" title="海康">海康</a>高清卡）就无能为力了。
<br><br>　　视频采集支持多种媒体类型，比如I420、YUY2、RGB、UYUY等，并可以进行帧大小和帧率控制。
<br><br>　　<b>视频编解码---video_coding 
<br><br>　　</b> 源代码在webrtc\modules\video_coding目录下。
<br><br>　　WebRTC采用I420/VP8编解码技术。VP8是google收购ON2后的开源实现，并且也用在WebM项目中。VP8能以更少的数据提供更高质量的视频，特别适合视频会议这样的需求。
<br><br>　　<b>视频加密--video_engine_encryption 
<br><br>　　</b> 视频加密是WebRTC的video_engine一部分，相当于视频应用层面的功能，给点对点的视频双方提供了数据上的安全保证，可以防止在Web上视频数据的泄漏。
<br><br>　　视频加密在发送端和接收端进行加解密视频数据，<a target="_blank" href="http://www.baike.com/wiki/%E5%AF%86%E9%92%A5" class="innerlink" title="密钥">密钥</a>由视频双方协商，代价是会影响视频数据处理的性能；也可以不使用视频加密功能，这样在性能上会好些。
<br><br>　　视频加密的数据源可能是原始的数据流，也可能是编码后的数据流。估计是编码后的数据流，这样加密代价会小一些，需要进一步研究。
<br><br>　　<b>视频媒体文件--media_file 
<br><br>　　</b> 源代码在webrtc\modules\media_file目录下。
<br><br>　　该功能是可以用本地文件作为视频源，有点类似<a target="_blank" href="http://www.baike.com/wiki/%E8%99%9A%E6%8B%9F%E6%91%84%E5%83%8F%E5%A4%B4" class="innerlink" title="虚拟摄像头">虚拟摄像头</a>的功能；支持的格式有Avi。
<br><br>　　另外，WebRTC还可以录制音视频到本地文件，比较实用的功能。
<br><br>　　<b>视频图像处理--video_processing 
<br><br>　　</b> 源代码在webrtc\modules\video_processing目录下。
<br><br>　　视频图像处理针对每一帧的图像进行处理，包括明暗度检测、颜色增强、降噪处理等功能，用来提升视频质量。
<br><br>　　<b>视频显示--video_render 
<br><br>　　</b> 源代码在webrtc\modules\video_render目录下。
<br><br>　　在windows平台，WebRTC采用direct3d9和directdraw的方式来显示视频，只能这样，必须这样。
<br><br>　　<b>网络传输与流控 
<br><br>　　</b> 对于<a target="_blank" href="http://www.baike.com/wiki/%E7%BD%91%E7%BB%9C%E8%A7%86%E9%A2%91" class="innerlink" title="网络视频">网络视频</a>来讲，数据的传输与控制是核心价值。WebRTC采用的是成熟的RTP/RTCP技术。</p><div class="hdwiki_tmmml"><a name="4_2"></a><a name="sub5916097_4_2"></a>音频</div><p>　　WebRTC的音频部分，包含设备、编解码(iLIBC/iSAC/G722/PCM16/RED/AVT、NetEQ)、加密、声音文件、声音处理、声音输出、音量控制、音视频同步、网络传输与流控(RTP/RTCP)等功能。
<br><br>　　<b>音频设备---audio_device 
<br><br>　　</b> 源代码在webrtc\modules\audio_device\main目录下，包含接口和各个平台的源代码。
<br><br>　　在windows平台上，WebRTC采用的是Windows Core Audio和Windows Wave技术来管理音频设备，还提供了一个<a target="_blank" href="http://www.baike.com/wiki/%E6%B7%B7%E9%9F%B3" class="innerlink" title="混音">混音</a>管理器。
<br><br>　　利用音频设备，可以实现声音输出，音量控制等功能。
<br><br>　　<b>音频编解码---audio_coding 
<br><br>　　</b> 源代码在webrtc\modules\audio_coding目录下。
<br><br>　　WebRTC采用iLIBC/iSAC/G722/PCM16/RED/AVT编解码技术。
<br><br>　　WebRTC还提供NetEQ功能---抖动缓冲器及丢包补偿模块，能够提高音质，并把延迟减至最小。
<br><br>　　另外一个核心功能是基于语音会议的混音处理。
<br><br>　　<b>声音加密--voice_engine_encryption 
<br><br>　　</b> 和视频一样，WebRTC也提供声音加密功能。
<br><br>　　<b>声音文件 
<br><br>　　</b> 该功能是可以用本地文件作为音频源，支持的格式有Pcm和Wav。
<br><br>　　同样，WebRTC也可以录制音频到本地文件。
<br><br>　　<b>声音处理--audio_processing 
<br><br>　　</b> 源代码在webrtc\modules\audio_processing目录下。
<br><br>　　声音处理针对音频数据进行处理，包括回声消除(AEC)、AECM、自动增益(AGC)、降噪处理等功能，用来提升声音质量。
<br><br>　　<b>网络传输与流控 
<br><br>　　</b> 和视频一样，WebRTC采用的是成熟的RTP/RTCP技术。
</p>
</div>

<!--google_ad_section_end-->
</div>