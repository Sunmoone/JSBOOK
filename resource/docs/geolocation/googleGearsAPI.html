<div class="mod-text-content mod-post-content mod-cs-contentblock"> 
	<div class="cs-contentblock-bg"></div>   
		<div id="content" class="content mod-cs-content text-content clearfix"> 
			<p>用 Google Gears 增强您的 Web 应用程序 ：</p><p>http://www.ibm.com/developerworks/cn/web/wa-lo-googlegears/</p><p>&nbsp;Gears API (Labs)： http://code.google.com/intl/zh-CN/apis/gears/api_database.html#directories</p><p>&nbsp;</p><p>&nbsp;Google Gears 提供的 API 增强您的 Web 应用程序，包括增加离线支持，提高运行速度和本地数据库支持等。</p><p>环境准备:</p><p>&nbsp; &nbsp;为了开发 Google Gears 应用程序，你需要先安装 Google Gears 插件到你的浏览器，用你的浏览器访问 http://gears.google.com/，如果你的浏览器没有安装 Google Gears 插件，在显示的网页右上角会出现一个 Install Gears 的按钮，点击它将会开始安装 Google Gears。接下来你还需要到 http://code.google.com/intl/zh-CN/apis/gears/tools.html 下载 gears_init.js 文件，把该文件放到你的 Web 应用程序里面。</p><p>&nbsp;&nbsp; 由于 Google Gears 提供的 API 是基于 JavaScript 语言的，所以你不需要安装额外的 IDE 插件来开发 Google Gears 程序，仅需要普通的文本编辑器就可以。如果你的浏览器是 Firefox, 可以安装 Firebug 来调试 JavaScript。</p><p>&nbsp;</p><p>&nbsp;&nbsp;&nbsp; 清单 1. 为网页增加对 Google Gears 的 JavaScript 库的引用 </p><p>&nbsp;&nbsp;&nbsp; 清单 2. 检测浏览器是否安装了 Google Gears </p><p>&nbsp;&nbsp;&nbsp; 使用 LocalServer API LocalServer 的主要功能是将 Web 应用程序的 HTTP 资源缓存到用户的本地硬盘中，并且当用户需要再次访问同样的网络资源的时候，对其进行拦截，转而用本地已存储的 HTTP 资源来代替服务器端的资源，为用户提供服务。这样，提高了web应用程序的响应速度，且无网络联接时，仍可使用web应用.但实时性很强，或者数据量过大的 Web 应用程序，都并不适合进行本地存储和利用本地资源来提供服务。因此，在利用 LocalServer API 对 Web 应用程序提供离线使用的功能之前，更重要的是要根据不同应用程序的应用场景，选择使用。</p><p>&nbsp;&nbsp;&nbsp;&nbsp; 在确定了要存储 Web 应用程序的哪些功能和资源之后，我们可以利用 LocalServer 提供的两种缓存方式来获取 HTTP 资源： </p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ResrouceStore – 获取指定 URL 的用户数据，PDF 文件，图片，样式表，JavaScript, 和 HTML 页面等。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ManagedResourceStore – 根据 manifest 文件事先声明的内容，获取一系列版本可控的相关的网络资源。</p><p>&nbsp;&nbsp;&nbsp;&nbsp; 这两种方式的区别：ResourceStore 获取并存储相对独立的网络资源， ManagedResourceStore 获取一系列相关联的网络资源（manifiest 文件由一个包括版本信息和资源清单在内的 JSON 对象组成，其中的“entries”属性，列出了所有需要被获取和存储的资源的 URL。）；ResourceStore 方式存储的资源不会自动被更新。如果需要更新，开发人员要在代码中显示地调用 captrure() 方法。而利用 ManagedResourceStore 存储的资源，由于在 manifest 文件中记录了版本的信息，因此可以同时支持手动和自动两种更新方式。开发人员既可以通过调用 checkForUpdate() 来手动检查并更新本地资源，也可以在 Google Gears 拦截或提供来自 ManagedResourceStore 的请求的同时，自动比较服务器和本地版本的差异，如有不同，注意这里的不同，也就是说即使服务器版本要低于本地版本，也会触发更新。</p><p>&nbsp;&nbsp;&nbsp; LocalServer API 提供了三个主要的类来创建和管理由 ResourceStore 和 ManagedResourceStore 两种方式获取的网络资源。</p><p>&nbsp;&nbsp;&nbsp; LocalServer – 创建、打开和删除 ResourceStore 和 ManagedResourceStore 两种存储方式的网络资源。</p><p>&nbsp;&nbsp;&nbsp; ManagedResourceStore – 管理以 ManagedResourceStore 方式存储的网络资源。</p><p>&nbsp;&nbsp;&nbsp; ResourceStore – 管理以 ResourceStore 方式存储的网络资源。</p><p>&nbsp;&nbsp;&nbsp; 清单 3. 在使用 Google Gears 的 API 之前需先创建出相应类型的对象 </p><p>&nbsp;&nbsp;&nbsp; 清单 4. 以 ManagedResourceStore 方式将普通 HTML 页面存储到本地（到相应的网页查看）</p><p>&nbsp;&nbsp;&nbsp; 清单 5. 对应的 manifest 文件（到相应的网页查看）</p> 
		</div>    
				
</div>