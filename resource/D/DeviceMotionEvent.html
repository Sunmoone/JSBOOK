<div id="article_details" class="details">
    <div class="article_title">
    <span class="ico ico_type_Original"></span>
    <h3>
        <span class="link_title"><a href="/hursing/article/details/9061991">
        iOS Safari/WebKit对DeviceMotionEvent的实现
        </a></span>
    </h3>
</div>

    <div class="article_manage">
        <span class="link_categories">
        分类：
            <a href="/hursing/article/category/1370200">iOS</a> 
            <a href="/hursing/article/category/1370201">WebKit</a> 
        </span>
    <span class="link_postdate">2013-06-09 14:40</span>
    <span class="link_view" title="阅读次数">839人阅读</span>
    <span class="link_comments" title="评论次数"><a href="#comments" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_pinglun'])">评论</a>(0)</span>
    <span class="link_collect"><a href="javascript:void(0);" onclick="javascript:_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_shoucang']);collectArticle('iOS Safari/WebKit对DeviceMotionEvent的实现','9061991');return false;" title="收藏">收藏</a></span>
    <span class="link_report"><a href="#report" onclick="javascript:_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_jubao']);report(9061991,2);return false;" title="举报">举报</a></span>
    
</div>
<div class="tag2box"><a href="http://www.csdn.net/tag/UIWebView" target="_blank" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_tag']);">UIWebView</a><a href="http://www.csdn.net/tag/devicemotion" target="_blank" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_tag']);">devicemotion</a><a href="http://www.csdn.net/tag/iOS%20WebKit" target="_blank" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_tag']);">iOS WebKit</a><a href="http://www.csdn.net/tag/%e7%a7%81%e6%9c%89API" target="_blank" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_tag']);">私有API</a><a href="http://www.csdn.net/tag/Mobile%20Safari" target="_blank" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_tag']);">Mobile Safari</a></div>

    
<div id="article_content" class="article_content">

<p>请先阅读《<a target="_blank" href="http://blog.csdn.net/hursing/article/details/9046837">iOS Safari/WebKit对DeviceOrientationEvent的实现</a>》，本文是姐妹篇。</p>
<p>简单地描述一下区别，后面会更详细对比：</p>
<p>DeviceOrientationEvent是获取方向，得到device静止时的绝对值；<br>
DeviceMotionEvent是获取移动速度，得到device移动时相对之前某个时间的差值比。</p>
<p></p>
<hr>
<p></p>
<p>背景知识：</p>
<p>Apple官方依然只发现一个文档：</p>
<p><a target="_blank" href="https://developer.apple.com/library/safari/#documentation/SafariDOMAdditions/Reference/DeviceMotionEventClassRef/DeviceMotionEvent/DeviceMotionEvent.html">https://developer.apple.com/library/safari/#documentation/SafariDOMAdditions/Reference/DeviceMotionEventClassRef/DeviceMotionEvent/DeviceMotionEvent.html</a></p>
<p>还是没例子的，自己写：<a target="_blank" href="https://code.csdn.net/hursing/pagetest/blob/master/devicemotionevent.html">https://code.csdn.net/hursing/pagetest/blob/master/devicemotionevent.html</a></p>
<p></p>
<div class="dp-highlighter bg_html"><div class="bar"><div class="tools"><b>[html]</b> <a href="#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command('ViewSource',this);return false;">view plain</a><a href="#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command('CopyToClipboard',this);return false;">copy</a><a href="#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command('PrintSource',this);return false;">print</a><a href="#" class="About" title="?" onclick="dp.sh.Toolbar.Command('About',this);return false;">?</a><div style="position: absolute; left: 509px; top: 765px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_1" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_1" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=1&amp;width=18&amp;height=18" wmode="transparent"></div></div></div><ol start="1" class="dp-xml"><li class="alt"><span><span class="tag">&lt;</span><span class="tag-name">html</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">head</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">title</span><span class="tag">&gt;</span><span>DeviceMotionEvent</span><span class="tag">&lt;/</span><span class="tag-name">title</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">meta</span><span>&nbsp;</span><span class="attribute">charset</span><span>=</span><span class="attribute-value">"UTF-8"</span><span>&nbsp;</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">head</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">body</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>x轴加速度：</span><span class="tag">&lt;</span><span class="tag-name">span</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"x"</span><span class="tag">&gt;</span><span>0</span><span class="tag">&lt;/</span><span class="tag-name">span</span><span class="tag">&gt;</span><span>米每二次方秒</span><span class="tag">&lt;/</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>y轴加速度：</span><span class="tag">&lt;</span><span class="tag-name">span</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"y"</span><span class="tag">&gt;</span><span>0</span><span class="tag">&lt;/</span><span class="tag-name">span</span><span class="tag">&gt;</span><span>米每二次方秒</span><span class="tag">&lt;/</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>z轴加速度：</span><span class="tag">&lt;</span><span class="tag-name">span</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"z"</span><span class="tag">&gt;</span><span>0</span><span class="tag">&lt;/</span><span class="tag-name">span</span><span class="tag">&gt;</span><span>米每二次方秒</span><span class="tag">&lt;/</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">hr</span><span>&nbsp;</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>x轴加速度(考虑重力加速度)：</span><span class="tag">&lt;</span><span class="tag-name">span</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"xg"</span><span class="tag">&gt;</span><span>0</span><span class="tag">&lt;/</span><span class="tag-name">span</span><span class="tag">&gt;</span><span>米每二次方秒</span><span class="tag">&lt;/</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>y轴加速度(考虑重力加速度)：</span><span class="tag">&lt;</span><span class="tag-name">span</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"yg"</span><span class="tag">&gt;</span><span>0</span><span class="tag">&lt;/</span><span class="tag-name">span</span><span class="tag">&gt;</span><span>米每二次方秒</span><span class="tag">&lt;/</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>z轴加速度(考虑重力加速度)：</span><span class="tag">&lt;</span><span class="tag-name">span</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"zg"</span><span class="tag">&gt;</span><span>0</span><span class="tag">&lt;/</span><span class="tag-name">span</span><span class="tag">&gt;</span><span>米每二次方秒</span><span class="tag">&lt;/</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">hr</span><span>&nbsp;</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>左右旋转速度：</span><span class="tag">&lt;</span><span class="tag-name">span</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"alpha"</span><span class="tag">&gt;</span><span>0</span><span class="tag">&lt;/</span><span class="tag-name">span</span><span class="tag">&gt;</span><span>度每秒</span><span class="tag">&lt;/</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>前后旋转速度：</span><span class="tag">&lt;</span><span class="tag-name">span</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"beta"</span><span class="tag">&gt;</span><span>0</span><span class="tag">&lt;/</span><span class="tag-name">span</span><span class="tag">&gt;</span><span>度每秒</span><span class="tag">&lt;/</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>扭转速度：</span><span class="tag">&lt;</span><span class="tag-name">span</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"gamma"</span><span class="tag">&gt;</span><span>0</span><span class="tag">&lt;/</span><span class="tag-name">span</span><span class="tag">&gt;</span><span>度每秒</span><span class="tag">&lt;/</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">hr</span><span>&nbsp;</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>上次收到通知的间隔：</span><span class="tag">&lt;</span><span class="tag-name">span</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"interval"</span><span class="tag">&gt;</span><span>0</span><span class="tag">&lt;/</span><span class="tag-name">span</span><span class="tag">&gt;</span><span>毫秒</span><span class="tag">&lt;/</span><span class="tag-name">p</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">script</span><span>&nbsp;</span><span class="attribute">type</span><span>=</span><span class="attribute-value">"text/javascript"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;motionHandler(event)&nbsp;{&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById("interval")<span class="attribute">.innerHTML</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">event</span><span>.interval;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;<span class="attribute">acc</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">event</span><span>.acceleration;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById("x")<span class="attribute">.innerHTML</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">acc</span><span>.x;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById("y")<span class="attribute">.innerHTML</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">acc</span><span>.y;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById("z")<span class="attribute">.innerHTML</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">acc</span><span>.z;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;<span class="attribute">accGravity</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">event</span><span>.accelerationIncludingGravity;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById("xg")<span class="attribute">.innerHTML</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">accGravity</span><span>.x;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById("yg")<span class="attribute">.innerHTML</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">accGravity</span><span>.y;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById("zg")<span class="attribute">.innerHTML</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">accGravity</span><span>.z;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;<span class="attribute">rotationRate</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">event</span><span>.rotationRate;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById("alpha")<span class="attribute">.innerHTML</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">rotationRate</span><span>.alpha;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById("beta")<span class="attribute">.innerHTML</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">rotationRate</span><span>.beta;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById("gamma")<span class="attribute">.innerHTML</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">rotationRate</span><span>.gamma;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(window.DeviceMotionEvent)&nbsp;{&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.addEventListener("devicemotion",&nbsp;motionHandler,&nbsp;false);&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">document.body.innerHTML</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">"What&nbsp;user&nbsp;agent&nbsp;u&nbsp;r&nbsp;using???"</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">script</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">body</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="tag">&lt;/</span><span class="tag-name">html</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="html" style="display: none;">&lt;html&gt;
    &lt;head&gt;
 	   &lt;title&gt;DeviceMotionEvent&lt;/title&gt;
	   &lt;meta charset="UTF-8" /&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;p&gt;x轴加速度：&lt;span id="x"&gt;0&lt;/span&gt;米每二次方秒&lt;/p&gt;
		&lt;p&gt;y轴加速度：&lt;span id="y"&gt;0&lt;/span&gt;米每二次方秒&lt;/p&gt;
		&lt;p&gt;z轴加速度：&lt;span id="z"&gt;0&lt;/span&gt;米每二次方秒&lt;/p&gt;
		&lt;hr /&gt;
		&lt;p&gt;x轴加速度(考虑重力加速度)：&lt;span id="xg"&gt;0&lt;/span&gt;米每二次方秒&lt;/p&gt;
		&lt;p&gt;y轴加速度(考虑重力加速度)：&lt;span id="yg"&gt;0&lt;/span&gt;米每二次方秒&lt;/p&gt;
		&lt;p&gt;z轴加速度(考虑重力加速度)：&lt;span id="zg"&gt;0&lt;/span&gt;米每二次方秒&lt;/p&gt;
		&lt;hr /&gt;
		&lt;p&gt;左右旋转速度：&lt;span id="alpha"&gt;0&lt;/span&gt;度每秒&lt;/p&gt;
		&lt;p&gt;前后旋转速度：&lt;span id="beta"&gt;0&lt;/span&gt;度每秒&lt;/p&gt;
		&lt;p&gt;扭转速度：&lt;span id="gamma"&gt;0&lt;/span&gt;度每秒&lt;/p&gt;
		&lt;hr /&gt;
		&lt;p&gt;上次收到通知的间隔：&lt;span id="interval"&gt;0&lt;/span&gt;毫秒&lt;/p&gt;
		&lt;script type="text/javascript"&gt;
		function motionHandler(event) {
			document.getElementById("interval").innerHTML = event.interval;
			var acc = event.acceleration;
			document.getElementById("x").innerHTML = acc.x;
			document.getElementById("y").innerHTML = acc.y;
			document.getElementById("z").innerHTML = acc.z;
			var accGravity = event.accelerationIncludingGravity;
			document.getElementById("xg").innerHTML = accGravity.x;
			document.getElementById("yg").innerHTML = accGravity.y;
			document.getElementById("zg").innerHTML = accGravity.z;
			var rotationRate = event.rotationRate;
			document.getElementById("alpha").innerHTML = rotationRate.alpha;
			document.getElementById("beta").innerHTML = rotationRate.beta;
			document.getElementById("gamma").innerHTML = rotationRate.gamma;
		}
		
		if (window.DeviceMotionEvent) {
		  window.addEventListener("devicemotion", motionHandler, false);
		} else {
		  document.body.innerHTML = "What user agent u r using???";
		}
   	 	&lt;/script&gt;
	&lt;/body&gt;
&lt;/html&gt;</pre>
用MobileSafari或UIWebView打开以上网页，可以看到10个数值的实时变化。
<p></p>
<p>（其中左图是把ipad平放在水平桌子上时的数值，右图是快速转动ipad时的数值。从右图可看到，因为表示的是速度，单位是度每秒，所以绝对值可以大于360。）</p>
<p><a target="_blank" href="http://img.blog.csdn.net/20130609111241765"><img src="http://img.blog.csdn.net/20130609111241765" width="256" height="192" alt=""></a>（点击图片看大图）&nbsp;<a target="_blank" href="http://img.blog.csdn.net/20130609111302140"><img src="http://img.blog.csdn.net/20130609111302140" width="256" height="192" alt=""></a></p>
<p>这十个属性分别是：</p>
<p>event.acceleration.x(y,z)：x(y,z)轴方向上，设备移动的加速度。请看《<a target="_blank" href="http://blog.csdn.net/hursing/article/details/9046837">iOS Safari/WebKit对DeviceOrientationEvent的实现</a>》中的图示。</p>
<p>event.accelerationIncludingGravity.x(y,z)：考虑重力加速度后x(y,z)轴方向上的加速度。因为重力加速度只影响z轴，所以与acceleration的数值相比，x轴和y轴是一样的，z轴相差9.8左右。（绝对数值不相等是因为浮点数精度问题）<br>
</p>
<p>旋转速度rotationRate：alpha、beta、gamma的概念与DeviceOrientationEvent一致。区别在于：<strong>DeviceOrientationEvent的值是相对于初始状态的差值，只要设备方向不变，怎么动都不会影响数值；DeviceMotionEvent是相对于之前的某个瞬间值的差值时间比，即变化的速度，一旦设备静止则会恢复为0。</strong></p>
<p></p>
<p>event.interval是 距离上次收到回调通知的时间间隔。</p>
<hr>
<p>相关类的关系图：</p>
<p><img src="http://img.blog.csdn.net/20130609140213593" alt=""></p>
<p>和DeviceOrientationEvent的非常类似，只不过因为数据个数太多，用了DeviceMotionData来做数据容器。</p>
<p>执行JavaScript遇到addEventListener时的浏览器堆栈是几乎一样的。在回调通知的区别也就仅在传的参数多了几个。</p>
<div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="#" class="ViewSource" title="view plain" onclick="dp.sh.Toolbar.Command('ViewSource',this);return false;">view plain</a><a href="#" class="CopyToClipboard" title="copy" onclick="dp.sh.Toolbar.Command('CopyToClipboard',this);return false;">copy</a><a href="#" class="PrintSource" title="print" onclick="dp.sh.Toolbar.Command('PrintSource',this);return false;">print</a><a href="#" class="About" title="?" onclick="dp.sh.Toolbar.Command('About',this);return false;">?</a><div style="position: absolute; left: 510px; top: 2978px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_2" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_2" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=2&amp;width=18&amp;height=18" wmode="transparent"></div></div></div><ol start="1"><li class="alt"><span><span>Thread&nbsp;5&nbsp;WebThread,&nbsp;Queue&nbsp;:&nbsp;(null)&nbsp;&nbsp;</span></span></li><li class=""><span>#0&nbsp;&nbsp;0x387bec96&nbsp;in&nbsp;WebCore::EventTarget::dispatchEvent(WTF::PassRefPtr&lt;WebCore::Event&gt;)&nbsp;()&nbsp;&nbsp;</span></li><li class="alt"><span>#1&nbsp;&nbsp;0x389a8a50&nbsp;in&nbsp;WebCore::DeviceMotionController::didChangeDeviceMotion(WebCore::DeviceMotionData*)&nbsp;()&nbsp;&nbsp;</span></li><li class=""><span>#2&nbsp;&nbsp;0x389a83cc&nbsp;in&nbsp;WebCore::DeviceMotionClientIOS::motionChanged(double,&nbsp;double,&nbsp;double,&nbsp;double,&nbsp;double,&nbsp;double,&nbsp;double,&nbsp;double,&nbsp;double)&nbsp;()&nbsp;&nbsp;</span></li><li class="alt"><span>#3&nbsp;&nbsp;0x38974b0a&nbsp;in&nbsp;__48-[CoreMotionManager&nbsp;sendMotionData:withHeading:]_block_invoke_0&nbsp;()&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="plain" style="display: none;">Thread 5 WebThread, Queue : (null)
#0	0x387bec96 in WebCore::EventTarget::dispatchEvent(WTF::PassRefPtr&lt;WebCore::Event&gt;) ()
#1	0x389a8a50 in WebCore::DeviceMotionController::didChangeDeviceMotion(WebCore::DeviceMotionData*) ()
#2	0x389a83cc in WebCore::DeviceMotionClientIOS::motionChanged(double, double, double, double, double, double, double, double, double) ()
#3	0x38974b0a in __48-[CoreMotionManager sendMotionData:withHeading:]_block_invoke_0 ()</pre>
<hr>
<p>PS：</p>
<p>1. Mac WebKit的类还留在iOS版里冗余着，根本没用，例如WebDeviceOrientation。</p>
<p>2. 需要真机调试，模拟器不支持Core Motion。</p>
<p><br>
</p>

</div>

</div

<div class="_content"><div class="_page _mdn"><h1>DeviceMotionEvent</h1><div class="notice experimental"> <p><strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for the proper prefixes to use in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the spec changes.</p> </div>  <p>The <code>DeviceMotionEvent</code> provides web developers with information about the speed of changes for the device's position and orientation.</p> <div class="warning"> <p><strong>Warning:</strong> Currently, Firefox and Chrome does not handle the coordinates the same way. Take care about this while using them.</p> </div> <h2 id="Properties">Properties</h2> <dl>
<dt> <a href="devicemotionevent.acceleration" title="The acceleration property returns the amount of acceleration recorded by the device, in meters per second squared (m/s2)."><code>DeviceMotionEvent.acceleration</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> An object giving the acceleration of the device on the three axis X, Y and Z. Acceleration is expressed in <a href="https://en.wikipedia.org/wiki/Meter_per_second_squared" title="https://en.wikipedia.org/wiki/Meter_per_second_squared">m/s<sup>2</sup></a>.</dd> <dt> <a href="devicemotionevent.accelerationincludinggravity" title="The accelerationIncludingGravity property returns the amount of acceleration recorded by the device, in meters per second squared (m/s2). Unlike DeviceMotionEvent.acceleration which does not compensate for the influence of gravity, its value is the sum of the acceleration of the device as induced by the user and the acceleration caused by gravity."><code>DeviceMotionEvent.accelerationIncludingGravity</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> An object giving the acceleration of the device on the three axis X, Y and Z with the effect of gravity. Acceleration is expressed in <a href="https://en.wikipedia.org/wiki/Meter_per_second_squared" title="https://en.wikipedia.org/wiki/Meter_per_second_squared">m/s<sup>2</sup></a>.</dd> <dt> <a href="devicemotionevent.rotationrate" title="Returns the rate at which the device is rotating around each of its axes in degrees per second."><code>DeviceMotionEvent.rotationRate</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> An object giving the rate of change of the device's orientation on the three orientation axis alpha, beta and gamma. Rotation rate is express in degrees per seconds.</dd> <dt> <a href="devicemotionevent.interval" title="Returns the interval, in milliseconds, at which data is obtained from the underlaying hardware. You can use this to determine the granularity of motion events."><code>DeviceMotionEvent.interval</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> A number representing the interval of time, in milliseconds, at which data are obtain from the device.</dd> </dl><h2 id="Example">Example</h2> <pre class=" language-javascript">window<span class="token punctuation">.</span><span class="token function">addEventListener<span class="token punctuation">(</span></span><span class="token string">'devicemotion'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>event<span class="token punctuation">.</span>acceleration<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">' m/s2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table">
<thead><tr>
<th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr></thead>
<tbody><tr>
<td><a class="external" href="http://dev.w3.org/geo/api/spec-source-orientation.html" lang="en" title="The 'Device Orientation Events' specification">Device Orientation Events</a></td> <td><span class="spec-WD">Working Draft</span></td> <td>Initial specification.</td> </tr></tbody>
</table><h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"><tbody>
<tr>
<th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr>
<tr>
<td>Basic support</td> <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td> <td>6.0 (6)</td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td> </tr>
</tbody></table>
</div> <div id="compat-mobile"> <table class="compat-table"><tbody>
<tr>
<th>Feature</th> <th>Android</th> <th>Firefox Mobile (Gecko)</th> <th>IE Phone</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr>
<tr>
<td>Basic support</td> <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td> <td>6.0 (6)</td> <td><span style="color: #f00;">Not supported</span></td> <td><span style="color: #f00;">Not supported</span></td> <td>4.2</td> </tr>
</tbody></table>
</div> <h2 id="See_also">See also</h2> <ul>
<li><code><a href="globaleventhandlers.deviceorientation" title="/en-US/docs/Web/API/GlobalEventHandlers.deviceorientation">deviceorientation</a></code></li> <li><a href="devicemotionevent" title="The DeviceMotionEvent provides web developers with information about the speed of changes for the device's position and orientation."><code>DeviceMotionEvent</code></a></li> <li><code><a href="globaleventhandlers.devicemotion" title="/en-US/docs/Web/API/GlobalEventHandlers.devicemotion">devicemotion</a></code></li> <li><a href="https://developer.mozilla.org/en-US/docs/WebAPI/Detecting_device_orientation" title="/en-US/docs/WebAPI/Detecting_device_orientation">Detecting device orientation</a></li> <li><a href="https://developer.mozilla.org/en/DOM/Orientation_and_motion_data_explained" title="Orientation and motion data explained">Orientation and motion data explained</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/DeviceMotionEvent$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2013 Mozilla Contributors<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/DeviceMotionEvent" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/DeviceMotionEvent</a>
  </p>
</div>
</div></div>