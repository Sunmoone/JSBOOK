
<div class="_content"><div class="_page _mdn"><h1>window.history</h1> <p>The <code><strong>Window.history</strong></code> read-only property returns a reference to the <a href="history" title="The History interface allows to manipulate the browser session history, that is the pages visited in the tab or frame that the current page is loaded in."><code>History</code></a> object, which provides an interface for manipulating the browser <em>session history</em> (pages visited in the tab or frame that the current page is loaded in).</p> <h2 id="Syntax" name="Syntax">Syntax</h2> <pre class="syntaxbox"><em>var historyObj</em> = <em>window</em>.history;</pre> <p>The obtained <code>History</code> object has the following methods:See <a href="https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history" title="en/DOM/Manipulating the browser history">Manipulating the browser history</a> for examples and details. In particular, that article explains security features of the <code>pushState()</code> and <code>replaceState()</code> methods that you should be aware of before using them.</p> <h2 id="Example" name="Example">Example</h2> <pre class=" language-javascript">history<span class="token punctuation">.</span><span class="token function">back<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true"> // equivalent to clicking back button
</span>history<span class="token punctuation">.</span><span class="token function">go<span class="token punctuation">(</span></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true"> // equivalent to history.back();
</span></pre> <h2 id="Notes" name="Notes">Notes</h2> <p>For top-level pages you can see the list of pages in the session history, accessible via the <code>History</code> object, in the browser's dropdowns next to the back and forward buttons.</p> <p>For security reasons the <code>History</code> object doesn't allow the non-privileged code to access the URLs of other pages in the session history, but it does allow it to navigate the session history.</p> <p>There is no way to clear the session history or to disable the back/forward navigation from unprivileged code. The closest available solution is the <code><a href="window.location#replace" title="en/DOM/window.location#replace">location.replace()</a></code> method, which replaces the current item of the session history with the provided URL.</p> <h2 id="See_also" name="See_also">See also</h2> <p><a href="http://msdn.microsoft.com/en-us/library/ms535864(VS.85).aspx">MSDN: history Object (window)</a></p> <h2 id="Specification" name="Specification">Specification</h2> <ul>
<li><a class="external" href="http://whatwg.org/html#the-history-interface">HTML5 History interface</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/window.history$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2013 Mozilla Contributors<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/window.history" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/window.history</a>
  </p>
</div>
</div></div>

<div id="maincontent">

<h1>History 对象</h1>


<div>
<h2>History 对象</h2>

<p>History 对象包含用户（在浏览器窗口中）访问过的 URL。</p>

<p>History 对象是 window 对象的一部分，可通过 window.history 属性对其进行访问。</p>

<p class="note"><span>注释：</span>没有应用于 History 对象的公开标准，不过所有浏览器都支持该对象。</p>

<p><em>IE:</em> Internet Explorer, <em>F:</em> Firefox, <em>O:</em> Opera.</p>
</div>


<div>
<h2>History 对象属性</h2>

<table class="dataintable">
  <tbody><tr>
    <th style="width:21%">属性</th>
    <th style="width:58%">描述</th>
    <th style="width:7%">IE</th>
    <th style="width:7%">F</th>
    <th style="width:7%">O</th>
  </tr>
  <tr>
    <td><a href="prop_his_length.asp">length</a></td>
    <td>返回浏览器历史列表中的 URL 数量。</td>
    <td>4</td>
    <td>1</td>
    <td>9</td>
  </tr>
  </tbody></table>
</div>


<div>
<h2>History 对象方法</h2>

<table class="dataintable">
  <tbody><tr>
    <th style="width:21%">方法</th>
    <th style="width:58%">描述</th>
    <th style="width:7%">IE</th>
    <th style="width:7%">F</th>
    <th style="width:7%">O</th>
  </tr>
  <tr>
    <td><a href="met_his_back.asp">back()</a></td>
    <td>加载 history 列表中的前一个 URL。</td>
    <td>4</td>
    <td>1</td>
    <td>9</td>
    </tr>
  <tr>
    <td><a href="met_his_forward.asp">forward()</a></td>
    <td>加载 history 列表中的下一个 URL。</td>
    <td>4</td>
    <td>1</td>
    <td>9</td>
    </tr>
  <tr>
    <td><a href="met_his_go.asp">go()</a></td>
    <td>加载 history 列表中的某个具体页面。</td>
    <td>4</td>
    <td>1</td>
    <td>9</td>
    </tr>
  </tbody></table>
</div>


<div>
<h2>History 对象描述</h2>
<p>History 对象最初设计来表示窗口的浏览历史。但出于隐私方面的原因，History 对象不再允许脚本访问已经访问过的实际 URL。唯一保持使用的功能只有 <a href="/htmldom/met_his_back.asp">back()</a>、<a href="/htmldom/met_his_forward.asp">forward()</a> 和 <a href="/htmldom/met_his_go.asp">go()</a> 方法。</p>


<h3>例子</h3>

<p>下面一行代码执行的操作与单击后退按钮执行的操作一样：</p>
<pre>history.back()</pre>

<p>下面一行代码执行的操作与单击两次后退按钮执行的操作一样：</p>
<pre>history.go(-2)</pre>
</div>

</div>

<div class="_content"><div class="_page _mdn"><h1>history</h1><p>The <strong><code>History</code></strong> interface allows to manipulate the browser <em>session history</em>, that is the pages visited in the tab or frame that the current page is loaded in.</p> <h2 id="Properties">Properties</h2> <p><em>The <code>History</code></em><em> interface doesn't inherit any property.</em></p> <dl>
<dt> <a href="history.length" title="The History.length read-only property returns an Integer representing the number of elements in the session history, including the currently loaded page. For example, for a page loaded in a new tab this property returns 1."><code>History.length</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd> Returns an <code>Integer</code> representing the number of elements in the session history, including the currently loaded page. For example, for a page loaded in a new tab this property returns <code>1</code>.</dd> <dt> <a href="history.current" title="The documentation about this has not yet been written; please consider contributing!"><code>History.current</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 26 / Thunderbird 26 / SeaMonkey 2.23)">Obsolete since Gecko 26</span>
</dt> <dd> Returns a <a href="domstring" title="A UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String."><code>DOMString</code></a> representing the URL of the active item of the session history. This property was never available to web content and is no more supported by any browser. Use <a href="location.href" title="The documentation about this has not yet been written; please consider contributing!"><code>Location.href</code></a> instead.</dd> <dt> <a href="history.next" title="The documentation about this has not yet been written; please consider contributing!"><code>History.next</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 26 / Thunderbird 26 / SeaMonkey 2.23)">Obsolete since Gecko 26</span>
</dt> <dd> Returns a <a href="domstring" title="A UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String."><code>DOMString</code></a> representing the URL of the next item in the session history. This property was never available to web content and is not supported by other browsers.</dd> <dt> <a href="history.previous" title="The documentation about this has not yet been written; please consider contributing!"><code>History.previous</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 26 / Thunderbird 26 / SeaMonkey 2.23)">Obsolete since Gecko 26</span>
</dt> <dd> Returns a <a href="domstring" title="A UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String."><code>DOMString</code></a> representing the URL of the previous item in the session history. This property was never available to web content and is not supported by other browsers.</dd> <dt> <a href="history.state" title="The documentation about this has not yet been written; please consider contributing!"><code>History.state</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span> </dt> <dd> Returns an <code>any</code> value representing the state at the top of the history stack. This is a way to look at the state without having to wait for a <code><a href="globaleventhandlers.popstate" title="/en-US/docs/Web/API/GlobalEventHandlers.popstate">popstate</a></code> event.</dd> </dl><h2 id="Methods">Methods</h2> <p><em>The <code>History</code></em> <em>interface doesn't inherit any method.</em></p> <dl>
<dt> <a href="history.back" title="The documentation about this has not yet been written; please consider contributing!"><code>History.back()</code></a>
</dt> <dd> Goes to the previous page in session history, the same action as when the user clicks the browser's Back button. Equivalent to <code>history.go(-1)</code>. <div class="note"> <strong>Note:</strong> Calling this method to go back beyond the first page in the session history has no effect and doesn't raise an exception.</div> </dd> <dt> <a href="history.forward" title="The documentation about this has not yet been written; please consider contributing!"><code>History.forward()</code></a>
</dt> <dd> Goes to the next page in session history, the same action as when the user clicks the browser's Forward button; this is equivalent to <code>history.go(1)</code>. <div class="note"> <strong>Note:</strong> Calling this method to go back beyond the last page in the session history has no effect and doesn't raise an exception.</div> </dd> <dt> <a href="history.go" title="The documentation about this has not yet been written; please consider contributing!"><code>History.go()</code></a>
</dt> <dd> Loads a page from the session history, identified by its relative location to the current page, for example <code>-1</code> for the previous page or <code>1</code> for the next page. When <code><em>integerDelta</em></code> is out of bounds (e.g. -1 when there are no previously visited pages in the session history), the method doesn't do anything and doesn't raise an exception. Calling <code>go()</code> without parameters or with a non-integer argument has no effect (unlike Internet Explorer, <a class="external" href="http://msdn.microsoft.com/en-us/library/ms536443(VS.85).aspx" title="http://msdn.microsoft.com/en-us/library/ms536443(VS.85).aspx">which supports string URLs as the argument</a>).</dd> <dt> <a href="history.pushstate" title="The documentation about this has not yet been written; please consider contributing!"><code>History.pushState()</code></a> </dt> <dd> Pushes the given data onto the session history stack with the specified title and, if provided, URL. The data is treated as opaque by the DOM; you may specify any JavaScript object that can be serialized. Note that Firefox currently ignores the title parameter; for more information, see <a href="https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history" title="en/DOM/Manipulating the browser history">manipulating the browser history</a>. <div class="note"> <strong>Note:</strong> In Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1) through Gecko 5.0 (Firefox 5.0 / Thunderbird 5.0 / SeaMonkey 2.2), the passed object is serialized using JSON. Starting in Gecko 6.0 (Firefox 6.0 / Thunderbird 6.0 / SeaMonkey 2.3), the object is serialized using <a href="https://developer.mozilla.org/en/DOM/The_structured_clone_algorithm" title="en/DOM/The structured clone algorithm">the structured clone algorithm</a>. This allows a wider variety of objects to be safely passed.</div> </dd> <dt> <a href="history.replacestate" title="The documentation about this has not yet been written; please consider contributing!"><code>History.replaceState()</code></a> </dt> <dd> Updates the most recent entry on the history stack to have the specified data, title, and, if provided, URL. The data is treated as opaque by the DOM; you may specify any JavaScript object that can be serialized. Note that Firefox currently ignores the title parameter; for more information, see <a href="https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history" title="en/DOM/Manipulating the browser history">manipulating the browser history</a>. <div class="note"> <strong>Note:</strong> In Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1) through Gecko 5.0 (Firefox 5.0 / Thunderbird 5.0 / SeaMonkey 2.2), the passed object is serialized using JSON. Starting in Gecko 6.0 (Firefox 6.0 / Thunderbird 6.0 / SeaMonkey 2.3), the object is serialized using <a href="https://developer.mozilla.org/en/DOM/The_structured_clone_algorithm" title="en/DOM/The structured clone algorithm">the structured clone algorithm</a>. This allows a wider variety of objects to be safely passed.</div> </dd> </dl><h2 id="Specifications">Specifications</h2> <table class="standard-table"><tbody>
<tr>
<th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr>
<tr>
<td><a class="external" href="http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#history-0" lang="en" title="The definition of 'History' in that specification.">WHATWG HTML Living Standard</a></td> <td><span class="spec-Living">Living Standard</span></td> <td>No change from <a class="external" href="http://www.w3.org/TR/html5/" lang="en" title="The 'HTML5' specification">HTML5</a>.</td> </tr>
<tr>
<td><a class="external" href="http://www.w3.org/TR/html5/browsers.html#the-history-interface" lang="en" title="The definition of 'History' in that specification.">HTML5</a></td> <td><span class="spec-CR">Candidate Recommendation</span></td> <td>Initial definition.</td> </tr>
</tbody></table><h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"><tbody>
<tr>
<th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr>
<tr>
<td>Basic support</td> <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td> <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td> <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td> <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td> <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td> </tr>
</tbody></table>
</div> <div id="compat-mobile"> <table class="compat-table"><tbody>
<tr>
<th>Feature</th> <th>Android</th> <th>Firefox Mobile (Gecko)</th> <th>IE Phone</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr>
<tr>
<td>Basic support</td> <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td> <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td> <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td> <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td> <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td> </tr>
</tbody></table>
</div> <h2 id="See_also">See also</h2> <ul>
<li>The <a href="window.history" title="The Window.history read-only property returns a reference to the History object, which provides an interface for manipulating the browser session history (pages visited in the tab or frame that the current page is loaded in)."><code>Window.history</code></a> property returning the history of the current session.</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/history$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2013 Mozilla Contributors<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/history" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/history</a>
  </p>
</div>
</div></div>