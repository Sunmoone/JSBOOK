<div class="_content"><div class="_page _mdn"><h1>EventTarget.removeEventListener</h1><p>Removes the event listener previously registered with <a href="eventtarget.addeventlistener" title="The EventTarget.addEventListener() method registers the specified listener on the EventTarget it's called on. The event target may be an Element in a document, the Document itself, a Window, or any other object that supports events (such as XMLHttpRequest)."><code>EventTarget.addEventListener</code></a>.</p> <h2 id="Syntax" name="Syntax">Syntax</h2> <pre class="syntaxbox"><em>target</em>.removeEventListener(<em>type</em>, <em>listener</em>[, <em>useCapture</em>])</pre> <dl>
<dt> <code>type</code>
</dt> <dd> A string representing the event type being removed.</dd> <dt> <code>listener</code>
</dt> <dd> The <code>listener </code>parameter indicates the <a href="eventlistener" title="This method is called whenever an event occurs of the type for which the EventListener interface was registered."><code>EventListener</code></a> function to be removed.</dd> <dt> <code>useCapture</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd> Specifies whether the <a href="eventlistener" title="This method is called whenever an event occurs of the type for which the EventListener interface was registered."><code>EventListener</code></a> being removed was registered as a capturing listener or not. If not specified, <code>useCapture</code> defaults to <code>false</code>.</dd> <dd> If a listener was registered twice, one with capture and one without, each must be removed separately. Removal of a capturing listener does not affect a non-capturing version of the same listener, and vice versa.</dd> </dl><div class="note"> <strong>Note:</strong> <code>useCapture</code> became optional only in more recent versions of the major browsers; for example, it was not optional prior to Firefox 6. You should provide that parameter for broadest compatibility.</div> <h2 id="Compatibility" name="Compatibility">Notes</h2> <p>If an <a href="eventlistener" title="This method is called whenever an event occurs of the type for which the EventListener interface was registered."><code>EventListener</code></a> is removed from an <a href="eventtarget" title="EventTarget is a DOM interface implemented by objects that can receive DOM events and have listeners for them."><code>EventTarget</code></a> while it is processing an event, it will not be triggered by the current actions. An <a href="eventlistener" title="This method is called whenever an event occurs of the type for which the EventListener interface was registered."><code>EventListener</code></a> can never be invoked after being removed.</p> <p>Calling <code>removeEventListener()</code> with arguments which do not identify any currently registered <a href="eventlistener" title="This method is called whenever an event occurs of the type for which the EventListener interface was registered."><code>EventListener</code></a> on the EventTarget has no effect.</p> <h2 id="Example">Example</h2> <p>This is an example of adding and then removing an event listener.</p> <pre class=" language-javascript"><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById<span class="token punctuation">(</span></span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> listener <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">/* do something here */</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">addEventListener<span class="token punctuation">(</span></span><span class="token string">'click'</span><span class="token punctuation">,</span> listener<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">removeEventListener<span class="token punctuation">(</span></span><span class="token string">'click'</span><span class="token punctuation">,</span> listener<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre> <h2 id="Browser_Compatibility" name="Browser_Compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"><tbody>
<tr>
<th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr>
<tr>
<td>Basic support</td> <td>1.0</td> <td>1.0 (1.7 or earlier)</td> <td>9.0</td> <td>7</td> <td>1.0</td> </tr>
<tr>
<td>
<code>useCapture</code> made optional</td> <td> <span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span>
</td> <td>6.0</td> <td>9.0</td> <td>(12.00)</td> <td> <span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span>
</td> </tr>
</tbody></table>
</div> <div id="compat-mobile"> <table class="compat-table"><tbody>
<tr>
<th>Feature</th> <th>Android</th> <th>Firefox Mobile (Gecko)</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr>
<tr>
<td>Basic support</td> <td>1.0</td> <td>1.0 (1)</td> <td>9.0</td> <td>6.0</td> <td>1.0</td> </tr>
</tbody></table>
</div> <h3 id="Gecko_notes">Gecko notes</h3> <ul>
<li>Prior to Firefox 6, the browser would throw if the useCapture parameter was not explicitly <font face="'Courier New', 'Andale Mono', monospace"><span style="line-height: normal;">false</span></font>. Prior to Gecko 9.0 (Firefox 9.0 / Thunderbird 9.0 / SeaMonkey 2.6), <code>addEventListener()</code> would throw an exception if the listener parameter was <code>null</code>; now the method returns without error, but without doing anything.</li> </ul><h3 id="Opera_notes">Opera notes</h3> <ul>
<li>Opera 12.00 will make the <code>useCapture</code> parameter optional (<a class="external" href="http://my.opera.com/ODIN/blog/2011/09/29/what-s-new-in-opera-development-snapshots-28-september-2011-edition">source</a>)</li> </ul><h3 id="WebKit_notes">WebKit notes</h3> <ul>
<li>Although WebKit has explicitly added [optional] to the <code>useCapture</code> parameter <a class="external" href="http://trac.webkit.org/changeset/89781">fairly recently</a>, it had been working before the change. The new change landed in Safari 5.1 and Chrome 13.</li> </ul><h2 id="See_also">See also</h2> <p><a href="eventtarget.addeventlistener" title="The EventTarget.addEventListener() method registers the specified listener on the EventTarget it's called on. The event target may be an Element in a document, the Document itself, a Window, or any other object that supports events (such as XMLHttpRequest)."><code>EventTarget.addEventListener()</code></a>.</p> <h3 id="Specification" name="Specification">Specification</h3> <ul>
<li><a class="external" href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-EventTarget-removeEventListener">removeEventListener </a></li> </ul><h2 id="Polyfill_to_support_older_browsers">Polyfill to support older browsers</h2> <p><code>addEventListener()</code> and <code>removeEventListener()</code> are not present in older browsers. You can work around this by inserting the following code at the beginning of your scripts, allowing use of <code>addEventListener()</code> and <code>removeEventListener()</code> in implementations which do not natively support it.</p> <pre class=" language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Element<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> oListeners <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">runListeners<span class="token punctuation">(</span></span>oEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>oEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span> oEvent <span class="token operator">=</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> iLstId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> iElId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> oEvtListeners <span class="token operator">=</span> oListeners<span class="token punctuation">[</span>oEvent<span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token punctuation">;</span> iElId <span class="token operator">&lt;</span> oEvtListeners<span class="token punctuation">.</span>aEls<span class="token punctuation">.</span>length<span class="token punctuation">;</span> iElId<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>oEvtListeners<span class="token punctuation">.</span>aEls<span class="token punctuation">[</span>iElId<span class="token punctuation">]</span> <span class="token operator">===</span> this<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>iLstId<span class="token punctuation">;</span> iLstId <span class="token operator">&lt;</span> oEvtListeners<span class="token punctuation">.</span>aEvts<span class="token punctuation">[</span>iElId<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> iLstId<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> oEvtListeners<span class="token punctuation">.</span>aEvts<span class="token punctuation">[</span>iElId<span class="token punctuation">]</span><span class="token punctuation">[</span>iLstId<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call<span class="token punctuation">(</span></span>this<span class="token punctuation">,</span> oEvent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  Element<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>addEventListener <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>sEventType<span class="token punctuation">,</span> fListener <span class="token comment" spellcheck="true">/*, useCapture (will be ignored!) */</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oListeners<span class="token punctuation">.</span><span class="token function">hasOwnProperty<span class="token punctuation">(</span></span>sEventType<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> oEvtListeners <span class="token operator">=</span> oListeners<span class="token punctuation">[</span>sEventType<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> nElIdx <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> iElId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> iElId <span class="token operator">&lt;</span> oEvtListeners<span class="token punctuation">.</span>aEls<span class="token punctuation">.</span>length<span class="token punctuation">;</span> iElId<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>oEvtListeners<span class="token punctuation">.</span>aEls<span class="token punctuation">[</span>iElId<span class="token punctuation">]</span> <span class="token operator">===</span> this<span class="token punctuation">)</span> <span class="token punctuation">{</span> nElIdx <span class="token operator">=</span> iElId<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>nElIdx <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        oEvtListeners<span class="token punctuation">.</span>aEls<span class="token punctuation">.</span><span class="token function">push<span class="token punctuation">(</span></span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
        oEvtListeners<span class="token punctuation">.</span>aEvts<span class="token punctuation">.</span><span class="token function">push<span class="token punctuation">(</span></span><span class="token punctuation">[</span>fListener<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token punctuation">[</span><span class="token string">"on"</span> <span class="token operator">+</span> sEventType<span class="token punctuation">]</span> <span class="token operator">=</span> runListeners<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> aElListeners <span class="token operator">=</span> oEvtListeners<span class="token punctuation">.</span>aEvts<span class="token punctuation">[</span>nElIdx<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token punctuation">[</span><span class="token string">"on"</span> <span class="token operator">+</span> sEventType<span class="token punctuation">]</span> <span class="token operator">!</span><span class="token operator">==</span> runListeners<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          aElListeners<span class="token punctuation">.</span><span class="token function">splice<span class="token punctuation">(</span></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          this<span class="token punctuation">[</span><span class="token string">"on"</span> <span class="token operator">+</span> sEventType<span class="token punctuation">]</span> <span class="token operator">=</span> runListeners<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> iLstId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> iLstId <span class="token operator">&lt;</span> aElListeners<span class="token punctuation">.</span>length<span class="token punctuation">;</span> iLstId<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>aElListeners<span class="token punctuation">[</span>iLstId<span class="token punctuation">]</span> <span class="token operator">===</span> fListener<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>     
        aElListeners<span class="token punctuation">.</span><span class="token function">push<span class="token punctuation">(</span></span>fListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      oListeners<span class="token punctuation">[</span>sEventType<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> aEls<span class="token punctuation">:</span> <span class="token punctuation">[</span>this<span class="token punctuation">]</span><span class="token punctuation">,</span> aEvts<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span>fListener<span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
      this<span class="token punctuation">[</span><span class="token string">"on"</span> <span class="token operator">+</span> sEventType<span class="token punctuation">]</span> <span class="token operator">=</span> runListeners<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  Element<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>removeEventListener <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>sEventType<span class="token punctuation">,</span> fListener <span class="token comment" spellcheck="true">/*, useCapture (will be ignored!) */</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>oListeners<span class="token punctuation">.</span><span class="token function">hasOwnProperty<span class="token punctuation">(</span></span>sEventType<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">var</span> oEvtListeners <span class="token operator">=</span> oListeners<span class="token punctuation">[</span>sEventType<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> nElIdx <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> iElId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> iElId <span class="token operator">&lt;</span> oEvtListeners<span class="token punctuation">.</span>aEls<span class="token punctuation">.</span>length<span class="token punctuation">;</span> iElId<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>oEvtListeners<span class="token punctuation">.</span>aEls<span class="token punctuation">[</span>iElId<span class="token punctuation">]</span> <span class="token operator">===</span> this<span class="token punctuation">)</span> <span class="token punctuation">{</span> nElIdx <span class="token operator">=</span> iElId<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nElIdx <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> iLstId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> aElListeners <span class="token operator">=</span> oEvtListeners<span class="token punctuation">.</span>aEvts<span class="token punctuation">[</span>nElIdx<span class="token punctuation">]</span><span class="token punctuation">;</span> iLstId <span class="token operator">&lt;</span> aElListeners<span class="token punctuation">.</span>length<span class="token punctuation">;</span> iLstId<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>aElListeners<span class="token punctuation">[</span>iLstId<span class="token punctuation">]</span> <span class="token operator">===</span> fListener<span class="token punctuation">)</span> <span class="token punctuation">{</span> aElListeners<span class="token punctuation">.</span><span class="token function">splice<span class="token punctuation">(</span></span>iLstId<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>  <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget.removeEventListener$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2013 Mozilla Contributors<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget.removeEventListener" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/EventTarget.removeEventListener</a>
  </p>
</div>
</div></div>