<div id="maincontent">

<h1>HTML 5 Web 存储</h1>

<div id="tpn">
<ul class="prenext">
<li class="pre"><a href="/html5/html_5_geolocation.asp" title="HTML5 地理定位">HTML5 地理定位</a></li>
<li class="next"><a href="/html5/html_5_app_cache.asp" title="HTML 5 应用程序缓存">HTML5 应用缓存</a></li>
</ul>
</div>


<div>
<h2>在客户端存储数据</h2>

<p>HTML5 提供了两种在客户端存储数据的新方法：</p>

<ul>
<li>localStorage - 没有时间限制的数据存储</li>
<li>sessionStorage - 针对一个 session 的数据存储</li>
</ul>

<p>之前，这些都是由 cookie 完成的。但是 cookie 不适合大量数据的存储，因为它们由每个对服务器的请求来传递，这使得 cookie 速度很慢而且效率也不高。</p>

<p>在 HTML5 中，数据不是由每个服务器请求传递的，而是只有在请求时使用数据。它使在不影响网站性能的情况下存储大量数据成为可能。</p>

<p>对于不同的网站，数据存储于不同的区域，并且一个网站只能访问其自身的数据。</p>

<p>HTML5 使用 JavaScript 来存储和访问数据。</p>

</div>


<div>
<h2>localStorage 方法</h2>

<p>localStorage 方法存储的数据没有时间限制。第二天、第二周或下一年之后，数据依然可用。</p>

<p>如何创建和访问 localStorage：</p>

<h3>实例</h3>

<pre>&lt;script type="text/javascript"&gt;
<code>localStorage.lastname="Smith";</code>
document.write(<code>localStorage.lastname</code>);
&lt;/script&gt;
</pre>

<p><a href="/tiy/t.asp?f=html5_webstorage_local">亲自试一试</a></p>

<p>下面的例子对用户访问页面的次数进行计数：</p>

<h3>实例</h3>

<pre>&lt;script type="text/javascript"&gt;
if (<code>localStorage.pagecount</code>)
  {
  localStorage.pagecount=Number(<code>localStorage.pagecount</code>) +1;
  }
else
  {
  <code>localStorage.pagecount</code>=1;
  }
document.write("Visits "+ <code>localStorage.pagecount</code> + " time(s).");
&lt;/script&gt;
</pre>

<p><a href="/tiy/t.asp?f=html5_webstorage_local_pagecount">亲自试一试</a></p>
</div>


<div>
<h2>sessionStorage 方法</h2>

<p>sessionStorage 方法针对一个 session 进行数据存储。当用户关闭浏览器窗口后，数据会被删除。</p>

<p>如何创建并访问一个 sessionStorage：</p>

<h3>实例</h3>

<pre>&lt;script type="text/javascript"&gt;
<code>sessionStorage.lastname="Smith";</code>
document.write(<code>sessionStorage.lastname</code>);
&lt;/script&gt;
</pre>

<p><a href="/tiy/t.asp?f=html5_webstorage_session">亲自试一试</a></p>

<p>下面的例子对用户在当前 session 中访问页面的次数进行计数：</p>

<h3>实例</h3>

<pre>&lt;script type="text/javascript"&gt;
if (<code>sessionStorage.pagecount</code>)
  {
  sessionStorage.pagecount=Number(<code>sessionStorage.pagecount</code>) +1;
  }
else
  {
  <code>sessionStorage.pagecount</code>=1;
  }
document.write("Visits "+<code>sessionStorage.pagecount</code>+" time(s) this session.");
&lt;/script&gt;
</pre>

<p><a href="/tiy/t.asp?f=html5_webstorage_session_pagecount">亲自试一试</a></p>
</div>


<div id="bpn">
<ul class="prenext">
<li class="pre"><a href="/html5/html_5_geolocation.asp" title="HTML5 地理定位">HTML5 地理定位</a></li>
<li class="next"><a href="/html5/html_5_app_cache.asp" title="HTML 5 应用程序缓存">HTML5 应用缓存</a></li>
</ul>
</div>
</div>