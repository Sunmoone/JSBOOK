
<div id="cnblogs_post_body"><div>
<p><strong>支持浏览器</strong><strong>: IE9+,Chrome11+,Firefox7+.</strong></p>
</div>
<p>宿主对象window.performance. &nbsp;</p>
<div>
<p>参考资料:<a href="http://msdn.microsoft.com/zh-cn/office/ff975118">http://msdn.microsoft.com/zh-cn/office/ff975118</a></p>
</div>
<div>
<p>参考w3c的标准草案:<a href="http://w3c-test.org/webperf/specs/NavigationTiming/">http://w3c-test.org/webperf/specs/NavigationTiming/</a></p>
</div>
<div>
<p>目前,IE9+和 chrome11+,Firefox7+已经实现了该草案定义的接口.</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>成员</strong><strong>:</strong></p>
</div>
<div>
<p><strong>.navigation</strong>&nbsp;(一个叫做performanceNavigation的对象.)</p>
</div>
<div>
<p><strong>.timing</strong>&nbsp;(这玩意是一个被称作performanceTiming的包含了很多成员的对象)&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>方法</strong><strong>:</strong></p>
</div>
<div>
<p><strong>.toJSON&nbsp;</strong></p>
</div>
<div>
<p>返回一个 对象，并抄写performance的可枚举成员到其中. 是的,timing,navigation都在上面.&nbsp;</p>
</div>
<div>
<p>JSON.stringify(performance.toJSON()) == JSON.stringify(performance)//true. 悲剧啊.明明是继承来的，msdn非要特殊标一下..</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>PS:</p>
</div>
<div>
<p>1. performance,仅能对当前的html文档做检测，所有的对象都和当前文档有关.&nbsp;&nbsp; 如果我们想检测某个图片资源的网络状况,则不行.&nbsp;&nbsp; 比如我们想监控，用户访问我们服务的状况，就只能创建一个iframe, url为我们服务某个地址(除非用户访问的当前页，就是我们要监控的对象.). 然后才可以监控这次一次请求的网络状态等等.&nbsp;&nbsp; 所以建议如果可以考虑使用performance,做监控，则需要有 抽样、时间点等监控机制. 否则给服务器带来额外压力，得不偿失. 如果要监控其他资源，需要使用&nbsp;ResourceTiming. 这套api. 这个会在其他帖子里单独说一说.</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<div align="center"><hr align="center" size="2" width="100%"></div>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>performanceNavigation(performance.navigation)</strong><strong>对象的成员</strong></p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>performanceNavigation.type&nbsp;</strong></p>
</div>
<div>
<p>返回值应该是0,1,2 中的一个.分别对应三个枚举值:</p>
</div>
<div>
<p>0 :&nbsp;<strong>TYPE_NAVIGATE</strong>&nbsp;&nbsp;(用户通过常规导航方式访问页面,比如点一个链接，或者一般的get方式.)</p>
</div>
<div>
<p>1 :&nbsp;<strong>TYPE_RELOAD &nbsp;</strong>(用户通过刷新,包括JS调用刷新接口等方式访问页面)</p>
</div>
<div>
<p>2 :&nbsp;<strong>TYPE_BACK_FORWARD</strong>&nbsp;(用户通过后退按钮访问本页面)</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>ps:草案中其实还有 3 : TYPE_RESERVED (保留,其他非前三种方式访问.)</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>performanceNavigation.redirectCount</strong></p>
</div>
<div>
<p>一个只读属性,返回当前页面是几次重定向才过来的.但是这个接口有同源策略限制,即仅能检测同源的重定向.</p>
</div>
<div>
<p><span style="color: #ff0000;">bugs:</span></p>
<p><span style="color: #ff0000;">　　1. IE9,当一个同源的页面a连接到 地址b(是否于a,c同源都如此),后被重定向到同源页面c时.navigation.redirectCount居然会是1.而不是0,此bug已被IE10 PP2修复.</span></p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<div>
<div align="center"><hr align="center" size="2" width="100%"></div>
</div>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>performanceTiming(performance.timing)</strong><strong>对象的成员</strong><strong>:</strong></p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>.navigationStart&nbsp;</strong></p>
</div>
<div>
<p>浏览器完成卸载前一个文档的时间(也就是准备加载新页面的那个起始时间).如果没有前一个文档，那么就返回&nbsp;timing.fetchStart的值.</p>
</div>
<div>
<p>似乎只有Chrome 非常严格遵守了此草案. 即不把刷新页面 ，以及一个标签页输入地址到指定页面，视为发生文档的卸载</p>
</div>
<div>
<p><span style="color: #ff0000;">bugs:</span></p>
</div>
<div>
<p><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp;1. IE9,当发生重定向时<strong>,</strong>.navigationStart<strong>&nbsp;</strong>会是0. IE10 PP2 已修复此问题.</span></p>
</div>
<div>
<p><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp;2. IE9-IE10 PP2,的一个问题是刷新当前页面,或在某个标签页输入地址为非相同页面时, 会被视为存在前一个文档，也就是说,其navigationStart会早于fetchStart.(除非在当前页再次输入地址按回车.再次进入该页面，则被视为无前一个文档被卸载.).而实际上这时候navigationStart,是unloadEventEnd的时间.</span></p>
</div>
<div>
<p><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp;3. Firefox7-Firefox10,一个新标签页也会被视为一个有效的文档. 所以这时候,会有值，且不是fetchStart的值.</span></p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>.unloadEventStart</strong></p>
</div>
<div>
<p>如果前一个文档，和当前文档同源,返回前一个文档发生unload事件前的时间.如果没有前一个文档，或不同源,则返回0.</p>
</div>
<div>
<p><span style="color: #ff0000;">bugs:</span></p>
</div>
<div>
<p><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp;1. IE9-IE10 pp2,Chrome17-,在前一个文档与当前文档中间发生重定向时, 且前后两个文档同源时, unloadEventStart,也会返回0</span></p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>.unloadEventEnd</strong></p>
</div>
<div>
<p>如果前一个文档和当前文档同源.返回前一个文档发生unload事件的时间.&nbsp;如果没有前一个文档，或不同源,则返回0.</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>如果,发生了HTTP重定向,或者类似的事情.并且,从导航开始中间的每次重定向，并不都和当前文档同域的话,.则返回0</p>
</div>
<div>
<p><span style="color: #ff0000;">bugs:</span></p>
</div>
<div>
<p><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp;1. IE9-IE10 pp2,Chrome17-,在前一个文档与当前文档中间发生重定向时, 且前后两个文档同源时, unloadEventEnd,也会返回0</span></p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>.redirectStart</strong></p>
</div>
<div>
<p>如果,发生了HTTP重定向,或者类似的事情.并且,从导航开始,中间的每次重定向，都和当前文档同域的话,就返回开始重定向的,timing.fetchStart的值.其他情况，则返回0.</p>
</div>
<div>
<p><span style="color: #ff0000;">bugs:</span></p>
</div>
<div>
<p><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp;1. IE9-IE10 pp2,在页面a,链接到地址b,并重定向到与b同源的页面c时. redirectStart,将为0.即同源策略，居然会考虑导航页.</span></p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>.redirectEnd</strong></p>
</div>
<div>
<p>如果,发生了HTTP重定向,或者类似的事情.并且,从导航开始,中间的每次重定向，都和当前文档同域的话,就返回最后一次重定向，接收到最后一个字节数据后的那个时间.其他情况则返回0.</p>
</div>
<div>
<p><span style="color: #ff0000;">bugs:</span></p>
</div>
<div>
<p><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp;1. IE9-IE10 pp2,在页面a,链接到地址b,并重定向到与b同源的页面c时. redirectSEnd,将为0.即同源策略，居然会考虑导航页.</span></p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>.fetchStart</strong></p>
</div>
<div>
<p>如果一个新的资源(这里是指当前文档)获取被发起,或类似的事情发生,则&nbsp;fetchStart必须返回用户代理开始检查其相关缓存的那个时间,其他情况则返回开始获取该资源的时间.</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>.domainLookupStart&nbsp;</strong></p>
</div>
<div>
<p>返回用户代理对当前文档所属域进行DNS查询开始的时间. 如果此请求没有DNS查询过程,如长连接，资源cache,甚至是本地资源等. 那么就返回&nbsp;fetchStart的值.</p>
</div>
<div>
<p><span style="color: #ff0000;">bugs:</span></p>
</div>
<div>
<p><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp;1.&nbsp;Firefox7-Firefox10,的实现有错误. 因为其值,并没有遵守标准所描述的对应时间节点.而是默认以navigationStart作为时间起点,并以中间的重定向时间做累加.而得到domainLookupStart的时间.即使这个重定向是非同源的重定向.所消耗的时间都会被计算进去. 那么，这也就解释了，为什么当没有重定向发生时, domainLookupStart - fetchStart, 我们往往会得到一个负值的原因,因为navigationStart,是要早于 fetchStart的.</span></p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>.domainLookupEnd</strong></p>
</div>
<div>
<p>返回用户代理对结束对当前文档所属域进行DNS查询的时间.如果此请求没有DNS查询过程,如长连接，资源cache,甚至是本地资源等. 那么就返回&nbsp;fetchStart的值.</p>
</div>
<div>
<p><span style="color: #ff0000;">bugs:</span></p>
</div>
<div>
<p><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp;1.参考domainLookupStart的bug. End具备相同的问题.</span></p>
</div>
<div>
<p>&nbsp; &nbsp; &nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>.connectStart</strong></p>
</div>
<div>
<p>返回用户代理向服务器服务器请求文档，开始建立连接的那个时间,如果此连接是一个长连接,又或者直接从缓存中获取资源（即没有与服务器建立连接）.则返回domainLookupEnd的值.</p>
</div>
<div>
<p><span style="color: #ff0000;">bugs:</span></p>
</div>
<div>
<p><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp;1. Firefox7 当资源走cache,即并未创建连接时. connentStart 的值为0.</span></p>
</div>
<div>
<p><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp;2. Firefox8-Firefox10,当并未创建连接时,connetStart的值是fetchStart的值，而不是domainLookEnd的值. 但这里涉及到一个惯性问题，因为domainLookupEnd的累积时间就已经背离了标准了，所以即使connectStart遵守标准.也是一个有问题的值.</span></p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>.connectEnd</strong></p>
</div>
<div>
<p>返回用户代理向服务器服务器请求文档，建立连接成功后(注意，不是断开连接的时间.)的那个时间.如果此连接是一个长连接，又或直接从缓存中获取资源&nbsp;（即没有与服务器建立连接）,则返回domainLookupEnd的值.</p>
</div>
<div>
<p><span style="color: #ff0000;">bugs:</span></p>
</div>
<div>
<p><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp;参考connectStart的问题.connectEnd具备同样的问题.</span></p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>如果连接建立失败,而用户代理进行重连,则connectStart和connectEnd则应该是这次重连的相关的值.其中connectEnd必须包括建立连接的时间以及,SSH握手协议和SOCKS认证等时间.</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>.secureConnectionStart</strong></p>
</div>
<div>
<p>可选特性.用户代理如果没有对应的东东,就要把这个设置为undefined.如果有这个东东,并且是HTTPS协议,那么就要返回开始SSL握手的那个时间. 如果不是HTTPS, 那么就返回0.</p>
</div>
<div>
<p><span style="color: #ff0000;">补充:Firefox7-10,IE9-IE10 PP2,都木有实现这个api.所以始终是undefined.</span></p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>.requestStart</strong></p>
</div>
<div>
<p>返回从服务器、缓存、本地资源等,开始请求文档的时间.&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>如果请求中途,连接断开了,并且用户代理进行了重连，并重新请求了资源,那么requestStart就必须为这个新请求所对应的时间.</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp; &nbsp;&nbsp;&nbsp;performance.timing 并不包含一个 单表请求结束的"requestEnd"接口. 原因有两点:</p>
</div>
<div>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1. 用户代理所能确定的请求的结束,并不能代表正确的网络栓书中的结束时间. 所以设计这个属性并没什么用处.</p>
</div>
<div>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2. 一些用户代理，如果要封装一个代表HTTP层面的，请求结束时间的接口,成本会非常高昂.</p>
</div>
<div>
<div><span><span style="color: #e30000;">bugs:&nbsp;</span></span></div>
<div><span><span style="color: #e30000;">&nbsp; &nbsp; &nbsp;1. Firefox7,直接走本地缓存时,.requestStart的值将为0. (Firefox8已修复此问题)</span></span></div>
</div>
<div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>
<div>
<p><strong>.responseStart</strong></p>
</div>
<div>
<p>返回用户代理从服务器、缓存、本地资源中，接收到第一个字节数据的时间.</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p>&nbsp;</p>
</div>
<div>
<p><strong>.responseEnd</strong></p>
</div>
<div>
<p>返回用户代理接收到最后一个字符的时间，和当前连接被关闭的时间中，更早的那个. 同样,文档可能来自服务器、缓存、或本地资源.</p>
</div>
<div>
<p>补充: 此值的读取应该是在我们可以确保真的是Response结束以后. 比如window.onload. &nbsp;因为考虑到chunked输出的情况. 那么我们脚本执行，并获取该值时，响应还没有结束. 这就会导致获取时间不准确.</p>
</div>
<div>
<p>&nbsp;</p>
<div><span><span style="color: #e30000;">bugs :&nbsp;</span></span></div>
<p>&nbsp;</p>
<div><span><span style="color: #e30000;">&nbsp; &nbsp; &nbsp;1. IE10 PP2, 以及Chrome17- ，走本地缓存时.在文档中间的脚本执行时去读取此值, 将为0. IE9本来没有问题,结果IE10 PP2,反倒有了问题.</span></span></div>
<p>&nbsp;</p>
<div><span><span style="color: #e30000;">&nbsp; &nbsp; &nbsp;2. Chrome16-,(Chrome17,已修复此问题.)在地址栏输入相同地址,走本地缓存时. responseEnd的时间，居然早于responseStart的时间. （不得不承认，这简直就是奇葩啊!）</span></span></div>
<p>&nbsp;</p>
<div><span><span style="color: #e30000;">&nbsp; &nbsp; &nbsp;3. Chrome17-,从页面a,到地址b,再重定向到地址c, 此时如果地址c是走缓存.则. ResponseEnd的时间，会遭遇ResponseStart的时间.(好吧,我们把希望寄予Chrome18好了.)</span></span></div>
<p><span style="color: #ff0000;">&nbsp;</span></p>

</div>
<div>
<p>&nbsp;</p>
<div>
<div><span><strong><span style="color: #a74500;">实现差异:(由于草案中，并未提及,当文档被分段输出后.在中间文档数据，接受过程中,responseEnd应如何处理,导致浏览器实现存在差异.)</span></strong></span></div>
<div><span>&nbsp; &nbsp;&nbsp;<span style="color: #a74500;">&nbsp;IE9 - IE10 PP2 , Firefox8-Firefox10,在不走存在Response阶段（非走cache的情况下.）.以接收第一个chunked包结束的时间作为.responseEnd的时间.(这将导致后续的一系列问题.)</span></span></div>
<div><span style="color: #a74500;">&nbsp; &nbsp; &nbsp;Chrome17-,Firefox7,则在分段数据的接受过程中，不会更新.responseEnd的时间,其值,始终为0.</span></div>

<span style="color: #993300;"><strong><br></strong></span></div>

</div>
<div>
<p>&nbsp;</p>
<p>&nbsp;</p>

</div>
<div>
<p><strong>.domLoading&nbsp;</strong></p>

</div>
<div>
<p>返回用户代理把其文档的 "current document readiness" 设置为 "loading"的时候.</p>

</div>
<div>
<p>(current document readiness 其实就是document.readyState&nbsp;API对应的状态.)</p>

</div>
<div>
<p>参考:http://dev.w3.org/html5/spec/dom.html#current-document-readiness</p>
<p>&nbsp;</p>
<div><span><span><span><span style="color: #e30000;">bugs :&nbsp;</span></span></span></span></div>
<div><span><span style="color: #e30000;">&nbsp; &nbsp; &nbsp;1. IE9. 在分段输出文档的情况下，该值总是要晚于最终responseEnd的值. 基于responseEnd的IE实现的bug.这也合情合理.</span></span></div>
<p><span style="color: #ff0000;">&nbsp;</span></p>
<p>&nbsp;</p>

</div>
<div>
<div><span><span style="color: #a74500;">实现差异:</span></span></div>
<div><span><span style="color: #a74500;">&nbsp; &nbsp; &nbsp;iE9 - IE10 PP2 , 当文档是chunked方式输出的时候.总是要等最后一个chunked被浏览器接收后,domLoading才会有有效值. &nbsp;也就是说,IE中目前的状况是.domLoading.无论如何，都要晚于responseEnd.其他浏览器则无此问题. &nbsp;但是这个问题导致我们计算IE下DOM Parse不准确. 即 domInteractive - domLoading 甚至会经常得到0.&nbsp;</span></span></div>

</div>
<div>
<p>&nbsp;</p>
<p>&nbsp;</p>

</div>
<div>
<p><strong>.domInteractive</strong></p>

</div>
<div>
<p>返回用户代理把其文档的 "current document readiness" 设置为 "interactive"的时候.</p>

</div>
<div>
<p>从标准来说,domReady的状态为"interactive"时,意味着,文档解析结束了. 因为标准中描述, DOM树创建结束后第一件事，就是把&nbsp;"current document readiness" 设置为"interactive"</p>

</div>
<div>
<p>参考:http://dev.w3.org/html5/spec/the-end.html#the-end 中第一步.</p>

</div>
<div>
<p>&nbsp;</p>
<div>
<div><span style="color: #ff0000;">bugs :&nbsp;</span></div>
<div><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp;1. IE9,IE10 PP2 . 在分段输出文档的情况下，该值并不是全部文档解析完成后的时间,而是第一个数据块被解析完成的时间,基于responseEnd的IE实现的bug.经过向后推定这也合情合理.</span></div>

</div>
<div><span><span style="color: #e30000;">&nbsp;</span></span></div>
<div><span><strong><span style="color: #a74500;">实现差异:(由于草案中，并未提及,文档解析并未结束时,其默认值的应该是多少.导致浏览器实现有差异.)</span></strong></span></div>
<div><span>&nbsp; &nbsp; 按我个人理解，并未解析结束，应该为0. 但是IE似乎对这个东西理解不太一样. 其他浏览器会是0. 但是. IE9-IE10 PP2,则会比较有趣.即使是分段输出,我取到的值.也和onload以后去到的,domInteractive的值是一致的. &nbsp;导致这一神奇现象的原因是,正式IE系的bug所导. 该时间是错误的引用了,DOM解析完成第一个数据块的时间.而不是整个文档的. 但是纠结起来就要挖掘更深层次的原因了. 因为草案只说该值体现的是,用户代理把</span>"current document readiness" 设置为 "interactive"的时间.如果IE系处理分段输出的html文档，向来都是这样做的。那么该值与其他浏览器的差异。也是可以理解的.&nbsp;</div>

</div>
<div>
<p>&nbsp;</p>

</div>
<div>
<p><strong>.domContentLoadedEventStart</strong></p>

</div>
<div>
<p>返回文档发生 DOMContentLoaded事件的时间.</p>

</div>
<div>
<div><span><span><span>参考:http://dev.w3.org/html5/spec/the-end.html#the-end &nbsp;中第4步.</span></span></span></div>
<div><span style="color: #328712;">DOMContentLoad和 DOMInteractive 之间差了两个步骤. 其中之一是, 所有open elements出栈 ，然后去看看 待运行的script list中是否有需要运行的脚本,如果有则执行，一直到这个列表为空了.再触发DOMContentLoad. &nbsp;需要主的是这个待运行脚本列表.有些可能在不同浏览器中，被加入进去的行为可能不同. 比如 document.write写入文档流的脚本，以及script deferr 的脚本.. 所以我们应该知道deferr的脚本也是要他推迟domContentLoaded的，也就是我们最常用的所谓domReady.(至少html5的规范是如此.)</span></div>

</div>
<div>
<p>&nbsp;</p>

</div>
<div>
<p>&nbsp;</p>

</div>
<div>
<p>&nbsp;</p>

</div>
<div>
<p><strong>.domContentLoadedEventEnd</strong></p>

</div>
<div>
<p>文档的DOMContentLoaded 事件的结束时间.</p>

</div>
<div>
<p>补充:所谓事件结束的时间，是指，如果DOMContentLoaded事件被开发者注册了回调事件.那么这个时间的End时间减去Start的时间.就会是这个回调执行的大概事件. 当然居于部分浏览器实现可能会有2-3ms的误差. 但是这个时间，基本可以忽略不计. 类似的情况还有后面的.loadEventStart,End. 即 window.onload 所有回调所消耗的时间.</p>

</div>
<div>
<p><br><br></p>

</div>
<div>
<p>&nbsp;</p>

</div>
<div>
<p><strong>.domComplete</strong></p>

</div>
<div>
<p>返回用户代理把其文档的 "current document readiness" 设置为 "complete"的时候.</p>

</div>
<div>
<p><br><br></p>

</div>
<div>
<p>PS:如果&nbsp;current document readiness 的某个状态被多次触发，那么对应的&nbsp;&nbsp;domLoading, domInteractive, domContentLoadedEventStart, domContentLoadedEventEnd and domComplete这些对应的API返回的时间,就应该是这个状态第一次触发的时间.</p>

</div>
<div>
<p>&nbsp;</p>

</div>
<div>
<p>&nbsp;</p>

</div>
<div>
<p><strong>.loadEventStart</strong></p>

</div>
<div>
<p>文档触发load事件的时间. 如果load事件没有触发,那么该接口就返回0.</p>

</div>
<div>
<p>&nbsp;</p>

</div>
<div>
<p>&nbsp;</p>

</div>
<div>
<p><strong>.loadEventEnd</strong></p>

</div>
<div>
<p>文档触发load事件结束后的时间. 如果load事件没有触发,那么该接口就返回0.</p>

</div>
<div>
<p>&nbsp;</p>

</div>
<div>
<p>&nbsp;</p>

</div>
<div>
<p>&nbsp;</p>
<div>
<p><span style="color: #ff0000;">external :&nbsp;另外,我很期待微软的私有实现,msFirstPaint 的属性。能够得到标准的采纳...这样对于监控浏览器首次渲染花费的时间.有太重大的意义了。&nbsp;</span></p>
<p><span style="color: #ff0000;">Chrome 也有了一些私有支持:</span></p>
<p>&nbsp;</p>
<div class="console-user-command console-adjacent-user-command-result"><span class="console-message-text source-code">chrome.loadTimes()</span></div>
<p>&nbsp;</p>
<div class="console-message console-log-level console-user-command-result">
<div class="section expanded">
<div class="header monospace">
<div class="subtitle">&nbsp;</div>
<div class="title">Object:</div>
</div>
<ol class="properties properties-tree monospace">
<li title=""><span class="name">commitLoadTime</span><span class="separator">:&nbsp;</span><span class="value console-formatted-number">1340785548.955838</span></li>
<li title=""><span class="name">finishDocumentLoadTime</span><span class="separator">:&nbsp;</span><span class="value console-formatted-number">0</span></li>
<li title=""><span class="name">finishLoadTime</span><span class="separator">:&nbsp;</span><span class="value console-formatted-number">0</span></li>
<li title=""><span class="name">firstPaintAfterLoadTime</span><span class="separator">:&nbsp;</span><span class="value console-formatted-number">0</span></li>
<li title=""><span class="name">firstPaintTime</span><span class="separator">:&nbsp;</span><span class="value console-formatted-number">1340785548.973838</span></li>
<li title=""><span class="name">navigationType</span><span class="separator">:&nbsp;</span><span class="value console-formatted-string">"Other"</span></li>
<li title=""><span class="name">requestTime</span><span class="separator">:&nbsp;</span><span class="value console-formatted-number">0</span></li>
<li title=""><span class="name">startLoadTime</span><span class="separator">:&nbsp;</span><span class="value console-formatted-number">0</span></li>
<li title=""><span class="name">wasAlternateProtocolAvailable</span><span class="separator">:&nbsp;</span><span class="value console-formatted-boolean">false</span></li>
<li title=""><span class="name">wasFetchedViaSpdy</span><span class="separator">:&nbsp;</span><span class="value console-formatted-boolean">false</span></li>
<li title=""><span class="name">wasNpnNegotiated</span><span class="separator">:&nbsp;</span><span class="value console-formatted-boolean">false</span></li>
<li class="parent" title=""><span class="name dimmed">__proto__</span><span class="separator">:&nbsp;</span><span class="value console-formatted-object">Object</span></li>
</ol></div>
</div>
<p><span style="color: #ff0000;">&nbsp;</span></p>
<p><span style="color: #ff0000;">注意这里有个 wasFetchedViaSpdy&nbsp; &nbsp; &nbsp;, 很有趣的东西 参考 :&nbsp;<a href="http://www.oschina.net/news/29099/what-is-spdy">http://www.oschina.net/news/29099/what-is-spdy</a></span></p>
<p><span style="color: #ff0000;">&nbsp;</span></p>

</div>

</div>
<div>
<p>&nbsp;</p>

</div>
<div>
<div align="center"><hr align="center" size="2" width="100%"></div>

</div>
<div>
<p>&nbsp;</p>
<div>
<p><strong>有了这些东西，我们大概能做什么呢，大家自由发挥想象吧</strong><strong>... </strong><strong>一个有趣的事情是，有时候</strong><strong>bug,</strong><strong>未必是坏事。我们可以利用</strong><strong>bug.</strong><strong>可以统计到一些额外的信息</strong><strong>.</strong><strong>比如</strong><strong>:</strong></p>

</div>
<div>
<p>&nbsp;&nbsp;&nbsp; IE,Chrome,利用 unloadEventStart,End, 以及 document.referrer .与当前文档同源的前提下， 值为0来断定 该两款浏览器,发生了跨域的重定向.而Firefox则可以考虑用domainLookupStart 是否大于navigationStart .以及redirectCount是否为0.来达到相同的检测目的..</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div>
<div align="center"><hr align="center" size="2" width="100%"></div>

</div>
<div>
<p>&nbsp;</p>
<p>&nbsp;</p>

</div>
<p>最后附上timing相关的图,可以帮助你理解这玩意的意义:</p>
<p><img src="http://w3c-test.org/webperf/specs/NavigationTiming/timing-overview.png" alt="" width="1000" height="597" style="width: 960px;"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

</div>

</div></div>



<div class="post-217 post type-post status-publish format-standard hentry category-android category-javascript-web category-web category-front-end-development tag-android tag-html5 tag-javascript" id="post-217">
	 <h3 class="storytitle"><a href="http://618119.com/archives/2012/01/31/217.html" rel="bookmark">Android4.0系统浏览器支持window.performance API了</a></h3>
	<div class="meta">Filed under: <a href="http://618119.com/category/android" title="查看Android中的全部文章" rel="category tag">Android</a>,<a href="http://618119.com/category/web/javascript-web" title="查看JavaScript中的全部文章" rel="category tag">JavaScript</a>,<a href="http://618119.com/category/web" title="查看Web中的全部文章" rel="category tag">Web</a>,<a href="http://618119.com/category/front-end-development" title="查看前端开发中的全部文章" rel="category tag">前端开发</a> — 标签：<a href="http://618119.com/tag/android" rel="tag">Android</a>, <a href="http://618119.com/tag/html5" rel="tag">HTML5</a>, <a href="http://618119.com/tag/javascript" rel="tag">javascript</a> —  lizongbo @ 22:25 </div>

	<div class="storycontent">
		<p><a href="http://618119.com/tag/android" class="st_tag internal_tag" rel="tag" title="标签 Android 下的日志">Android</a>4.0系统浏览器支持window.performance API了</p>
<p>window.performance API是HTML5规范的一部分，<br>
window.performance规范的官方文档在：</p>
<p><a href="https://dvcs.w3.org/hg/webperf/raw-file/tip/specs/NavigationTiming/Overview.html">https://dvcs.w3.org/hg/webperf/raw-file/tip/specs/NavigationTiming/Overview.html</a></p>
<p>目前还是草稿阶段，中文介绍可以参考：</p>
<p><a href="http://www.cnblogs.com/_franky/archive/2011/11/07/2238980.html">http://www.cnblogs.com/_franky/archive/2011/11/07/2238980.html</a></p>
<p>webkit的测试用例和属性列表可以参考：</p>
<p><a href="http://svn.webkit.org/repository/webkit/trunk/LayoutTests/fast//dom/Window/window-properties-performance.html">http://svn.webkit.org/repository/webkit/trunk/LayoutTests/fast//dom/Window/window-properties-performance.html</a></p>
<p><a href="http://svn.webkit.org/repository/webkit/trunk/LayoutTests/fast//dom/Window/window-properties-performance-expected.txt">http://svn.webkit.org/repository/webkit/trunk/LayoutTests/fast//dom/Window/window-properties-performance-expected.txt</a></p>
<p>Android4.0系统自带的浏览器实现了这一规范，并且还扩展实现window.performance.memory。</p>
<p>通过JavaScript实际测试结果如下：<br>
window.performance.memory=[object MemoryInfo]<br>
window.performance.timing=[object PerformanceTiming]<br>
window.performance.navigation=[object PerformanceNavigation]<br>
window.performance.timing.connectStart=1328016452403<br>
window.performance.timing.responseStart=1328016452403<br>
window.performance.timing.domLoading=1328016453857<br>
window.performance.timing.connectEnd=1328016452403<br>
window.performance.timing.domInteractive=0<br>
window.performance.timing.fetchStart=1328016452403<br>
window.performance.timing.secureConnectionStart=0<br>
window.performance.timing.domainLookupStart=1328016452403<br>
window.performance.timing.responseEnd=0<br>
window.performance.timing.requestStart=1328016452403<br>
window.performance.timing.loadEventEnd=0<br>
window.performance.timing.domComplete=0<br>
window.performance.timing.redirectStart=0<br>
window.performance.timing.unloadEventEnd=1328016453646<br>
window.performance.timing.domContentLoadedEventStart=0<br>
window.performance.timing.domContentLoadedEventEnd=0<br>
window.performance.timing.domainLookupEnd=1328016452403<br>
window.performance.timing.navigationStart=1328016452402<br>
window.performance.timing.unloadEventStart=1328016453646<br>
window.performance.timing.loadEventStart=0<br>
window.performance.timing.redirectEnd=0<br>
window.performance.navigation.redirectCount=0<br>
window.performance.navigation.type=1<br>
window.performance.navigation.TYPE_NAVIGATE=0<br>
window.performance.navigation.TYPE_RELOAD=1<br>
window.performance.navigation.TYPE_BACK_FORWARD=2<br>
window.performance.navigation.TYPE_RESERVED=255<br>
window.performance.memory.totalJSHeapSize=0<br>
window.performance.memory.usedJSHeapSize=0<br>
window.performance.memory.jsHeapSizeLimit=0</p>
<p>PS:Android从2.1版本还扩展实现了navigator.connection：<br>
通过JavaScript测试结果如下：<br>
navigator.connection.type=4<br>
navigator.connection.UNKNOWN=0<br>
navigator.connection.ETHERNET=1<br>
navigator.connection.WIFI=2<br>
navigator.connection.CELL_2G=3<br>
navigator.connection.CELL_3G=4</p>
<p>&nbsp;</p>

	Tags: <a href="http://618119.com/tag/android" title="Android" rel="tag">Android</a>, <a href="http://618119.com/tag/html5" title="HTML5" rel="tag">HTML5</a>, <a href="http://618119.com/tag/javascript" title="javascript" rel="tag">javascript</a><br>
	</div>

	<div class="feedback">
				<a href="http://618119.com/archives/2012/01/31/217.html#respond" title="《Android4.0系统浏览器支持window.performance API了》上的评论">Comments (0)</a>	</div>

</div>








<body class="draft" style="direction: ltr; text-align: left;" len="99116">

<div class="head" len="3147">
<p len="205">
<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2F" target="_top" len="77"><img alt="W3C" src="http://www.w3.org/Icons/w3c_home" height="48" width="72"></a>
</p>

<h1 len="15" lang="zh-CHS" style="">资源的时序</h1>

<h2 class="no-num no-toc" id="W3C-doctype" len="29" lang="zh-CHS" style="">W3C 工作草案 2011 年 5 月 24 日</h2>
<dl len="1216">
  <dt len="13" lang="zh-CHS" style="">此版本：</dt>
    <dd len="222"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F" target="_top" len="54" lang="zh-CHS" style="">http://www.w3.org/TR/2011/WD-resource-timing-20110524/</a></dd>
  <dt len="15" lang="zh-CHS" style="">最新版本：</dt>
      <dd len="186"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fresource-timing%2F" target="_top" len="37" lang="zh-CHS">http://www.w3.org/TR/resource-timing/</a></dd>
  <dt len="22" lang="zh-CHS" style="">草案最新编辑器：</dt>
  <dd len="220"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3c-test.org%2Fwebperf%2Fspecs%2FResourceTiming%2F" target="_top" len="53" lang="zh-CHS">http://www.w3c-test.org/webperf/specs/ResourceTiming/</a></dd>
  <dt len="8" lang="zh-CHS">编辑：</dt>
    <dd class="vcard" len="127"><font lang="zh-CHS"><span class="fn" len="13">Jatinder Mann</span>，<span class="org" len="14">微软公司</span>， <span class="email" len="19">jmann@microsoft.com</span></font> </dd>
    <dd class="vcard" len="123"><font lang="zh-CHS"><span class="fn" len="12">志恒王</span>，<span class="org" len="11">谷歌公司</span>， <span class="email" len="19">zhihengw@google.com</span></font> </dd>
    <dd class="vcard" len="105" lang="zh-CHS"><span class="fn" len="14">安德森果奇</span>， <span class="org" len="40">Microsoft Inc. <i>(直到 2011 年 3 月)</i> </span></dd>
</dl>

   <p class="copyright" len="1565"><font lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FConsortium%2FLegal%2Fipr-notice%23Copyright" target="_top" len="9">版权所有</a>© 2011 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2F" target="_top" len="60"> <acronym title="World Wide Web
    Consortium">W3C</acronym></a><sup len="1">®</sup> （<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.csail.mit.edu%2F" target="_top" len="72"><acronym title="Massachusetts Institute
    of Technology">麻省理工学院</acronym></a>，<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.ercim.eu%2F" target="_top" len="97"><acronym title="European Research Consortium
    for Informatics and Mathematics">组织</acronym></a>，<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.keio.ac.jp%2F" target="_top" len="4">庆应义塾</a>)，保留所有权利。</font><font lang="zh-CHS">W3C<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FConsortium%2FLegal%2Fipr-notice%23Legal_Disclaimer" target="_top" len="9">责任</a>、<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FConsortium%2FLegal%2Fipr-notice%23W3C_Trademarks" target="_top" len="9">商标</a>和<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FConsortium%2FLegal%2Fcopyright-documents" target="_top" len="16">文档使用</a>规则适用。</font></p>

<hr len="0">

</div>

<h2 class="no-num no-toc" id="abstract" len="8" lang="zh-CHS" style="">摘要</h2>

<p len="116" lang="zh-CHS" style="">此规范定义了一个接口，使 web 应用程序来访问与相关的 HTML 元素的计时信息。</p>

<h2 class="no-num no-toc" id="status-of-this-document" len="23" lang="zh-CHS" style="">本文档的状态</h2>

  <p len="437"><em len="428"><font lang="zh-CHS">本部分描述了本文档的状态在其发布的时间。</font><font lang="zh-CHS">其他文件可能会取代此文档。</font><font lang="zh-CHS">目前 W3C 出版物和技术报告的最新修订的列表可以在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F" target="_top">W3C 技术报告指数</a>在 http://www.w3.org/TR/ 中找到。</font></em></p>

<p len="60" lang="zh-CHS" style="">这是"资源计时"的第一次公开工作草案。</p>

<p len="618"><font><font lang="zh-CHS">本文档由<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2F2010%2Fwebperf%2F" target="_top" len="15">Web 性能</a>工作组。</font><font lang="zh-CHS">Web 性能工作组是 W3C<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FInteraction%2F" target="_top" len="21">交互作用域</a>中的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2F2006%2Frwc%2FActivity" target="_top" len="28">丰富的 Web 客户端活动</a>的一部分</font></font>.
</p>

<p len="373" lang="zh-CHS" style="">请与<samp len="16">[ResourceTiming]</samp>在主题行的开始发送至<a href="mailto:public-web-perf@w3.org?subject=[ResourceTiming]%20" len="22">public-web-perf@w3.org</a> （<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Flists.w3.org%2FArchives%2FPublic%2Fpublic-web-perf%2F" target="_top" len="8">存档</a>） 的意见。</p>


<p len="373">
<strong len="354" lang="zh-CHS">您可以找到本文档最新<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3c-test.org%2Fwebperf%2Fspecs%2FResourceTiming%2F" target="_top">编辑器的草案</a>在<a href="https://dvcs.w3.org/hg/webperf/" target="_top">W3C 的 Mercurial 资源库</a>，并定期更新。</strong>
</p>

<p len="254"><font lang="zh-CHS">出版物作为工作的草案并不意味着由 W3C 成员认可。</font><font lang="zh-CHS" style="">这是一份文件草案和可能被更新、 替换或废弃的其他文件在任何时间。</font><font lang="zh-CHS">它不恰当引用此文档作为非进展中的工作。</font></p>

<p len="1191"><font><font lang="zh-CHS">本文档由下运作组制作<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FConsortium%2FPatent-Policy-20040205%2F" target="_top" len="36">2004 年 2 月 5 日 W3C 专利政策</a>。</font><font lang="zh-CHS">W3C 维护<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2F2004%2F01%2Fpp-impl%2F45211%2Fstatus" rel="disclosure" target="_top" len="37">公共列表中的任何专利披露</a>作可交付结果的组 ；</font><font lang="zh-CHS">该网页还包括披露一项专利的说明。</font><font lang="zh-CHS">有一项专利的实际知识的个人，个人认为包含<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FConsortium%2FPatent-Policy-20040205%2F%23def-essential" target="_top" len="21">基本明</a>必须披露根据<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FConsortium%2FPatent-Policy-20040205%2F%23sec-Disclosure" target="_top" len="37">W3C 专利政策的 6 条</a>信息</font></font>.</p>

<p id="unstable" len="471"><font lang="zh-CHS"><strong class="redNote" len="70">实施者应该意识到这份文件是不稳定。</strong></font><font lang="zh-CHS">执行者不正在参加讨论的人很可能找到从他们在不兼容的方式改变出来的规范。</font><font lang="zh-CHS">在执行本文档之前，它最终达到候选推荐阶段感兴趣的供应商应加入上述邮件列表和参加讨论。</font></p>

<h2 class="no-num no-toc" id="table-of-contents" len="17" lang="zh-CHS" style="">表的内容</h2>
<!--begin-toc-->
<ol class="toc" len="3810">
  <li len="226"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23introduction" target="_top" len="43"><font lang="zh-CHS"><span class="secno">1</span></font><font lang="zh-CHS">简介</font></a></li>
  <li len="252"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23conformance-requirements" target="_top" len="57"><font lang="zh-CHS"><span class="secno">2</span></font><font lang="zh-CHS">一致性要求</font></a></li>
  <li len="222"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23terminology" target="_top" len="40"><font lang="zh-CHS"><span class="secno">3</span></font><font lang="zh-CHS">术语</font></a></li>
  <li len="1615"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23resource-timing" target="_top" len="48"><font lang="zh-CHS"><span class="secno">4</span></font><font lang="zh-CHS">资源的时序</font></a>
    <ol class="toc" len="1352">
      <li len="228"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23introduction-1" target="_top" len="43" lang="zh-CHS"><span class="secno">4.1</span>简介</a></li>
      <li len="238"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23resources-included" target="_top" len="49" lang="zh-CHS"><span class="secno">4.2</span>资源包括</a></li>
      <li len="281"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="83" lang="zh-CHS" style=""><span class="secno">4.3</span> <code>PerformanceResourceTiming</code>接口</a></li>
      <li len="265"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing-methods" target="_top" len="59" lang="zh-CHS"><span class="secno">4.3</span>资源计时方法</a></li>
      <li len="247"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23cross-origin-resources" target="_top" len="54" lang="zh-CHS"><span class="secno">4.5</span>跨起源资源</a></li>
      

    </ol>
  </li>
  <li len="750"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23process" target="_top" len="36"><font lang="zh-CHS"><span class="secno">5</span></font><font lang="zh-CHS">进程</font></a>
    <ol class="toc" len="507">
        <li len="234"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23processing-model" target="_top" len="47" lang="zh-CHS"><span class="secno">5.1</span>处理模型</a></li>
        <li len="232"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23monotonic-clock" target="_top" len="46" lang="zh-CHS"><span class="secno">5.2</span>单调时钟</a></li>
    </ol>
  </li>
  <li len="214"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23privacy" target="_top" len="36"><font lang="zh-CHS"><span class="secno">6</span></font><font lang="zh-CHS">隐私</font></a></li>
  <li len="216"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23security" target="_top" len="37"><font lang="zh-CHS"><span class="secno">7</span></font><font lang="zh-CHS">安全</font></a></li>
  <li len="218"><a class="no-num" href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23acknowledgements" target="_top" len="16" lang="zh-CHS">鸣谢</a></li>
</ol>
<!--end-toc-->

<h2 id="introduction" len="41"><font lang="zh-CHS"><span class="secno" len="2">1</span></font><font lang="zh-CHS">简介</font></h2>

<p len="30" lang="zh-CHS">这一节是非规范性的。</p>
<p len="946"><font lang="zh-CHS">用户滞后时间是为 Web 应用程序的一个重要的质量基准。</font><font lang="zh-CHS">虽然基于 JavaScript 的机制可以提供综合仪器仪表用户延迟测量在应用程序内，在许多情况下，他们无法提供完整的端到端延迟的图片。</font><font lang="zh-CHS">虽然导航定时<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23NavigationTiming" target="_top" len="18">[NavigationTiming]</a>地址部分通过提供计时信息与导航，这份文件关联问题引入了<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23resource-timing" target="_top" len="14">ResourceTiming</a>接口，以允许 Javascript 机制，以收集有关的一份文件上的资源的完整的计时信息。</font></p>


<div class="example" len="827">
<p len="111" lang="zh-CHS" style="">例如，下面的 Javascript 显示简单的企图来衡量它需获取资源的时间：</p>

<pre len="694">&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
  &lt;/head&gt;
  &lt;body onload="loadResources()"&gt;
    &lt;script&gt;
        function loadResources() 
        {
           var start = new Date().getTime();
           var image1 = new Image();
           image1.src = 'http://w3c-test.org/webperf/image1.png';
           image1.onload = resourceTiming;

           var resourceTiming = function() {
               var now = new Date().getTime();
               var latency = now - start;
               alert("End to end resource fetch: " + latency);
           };
        } 
    &lt;/script&gt;
    &lt;img src="http://w3c-test.org/webperf/image0.png"&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
</div>

<p len="226"><font lang="zh-CHS">虽然此脚本可以衡量的时间获取一个资源，它不能打破在各个阶段中花费的时间。</font><font lang="zh-CHS" style="">进一步，脚本不能容易地衡量获取资源在标记中所述的时间。</font></p> 

<p len="565"><font lang="zh-CHS">为满足用户体验的完整信息的需要，这份文件，引入了<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>接口。</font><font lang="zh-CHS">此接口允许 JavaScript 提供完整客户端延迟测量中的应用程序的机制。</font><font lang="zh-CHS">通过此接口，可以修改前面的示例中，以衡量用户的感知的加载时间的资源。</font></p>

<div class="example" len="1438">
<p len="535"><font lang="zh-CHS">下面的脚本计算提取在页面中，甚至那些在标记中定义的每个资源的时间的量。</font><font lang="zh-CHS">本示例假定在 http://w3c-test.org 上承载此页。</font><font lang="zh-CHS">你可以进一步测量中获取的资源的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>接口的每个阶段所需的时间的量。</font></p>
<pre len="882">&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
  &lt;/head&gt;
  &lt;body onload="loadResources()"&gt;
    &lt;script&gt;
       function loadResources() 
       {
          var image1 = new Image();
          image1.src = 'http://w3c-test.org/webperf/image1.png';
          image1.onload = resourceTiming;
       }
       
       function resourceTiming() 
       {
           var resourceList = window.performance.getResourceTimings();
           for (i = 0; i &lt; resourceList.length; i++)
           {
              if (resourceList[i].type == window.performance.INITIATOR_IMAGE) 
              {
                 alert("End to end resource fetch: "+ resourceList[i].responseEnd - resourceList[i].resourceStart);
              }
           }
       }
    &lt;/script&gt;
    &lt;img id="image0" src="http://w3c-test.org/webperf/image0.png"&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
</div>

<h2 id="conformance-requirements" len="53"><font lang="zh-CHS"><span class="secno" len="2">2</span></font><font lang="zh-CHS">一致性要求</font></h2>

<p len="180"><font lang="zh-CHS">所有关系图、 示例和说明在本规范中，非规范性显式标记为非规范性的所有部分。</font><font lang="zh-CHS">此规范中的其他事情是规范性的。</font></p>

<p len="473"><font><font lang="zh-CHS">关键词"必须"，"不一定"、"必需的"、"必须"、"不应该"、"推荐"、"可能"、 和在此文档的规范性部分中的"可选"将被解释 RFC2119 中所述。</font><font lang="zh-CHS">为了提高可读性，这些词不出现在本规范中的所有大写字母。</font><font lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rfc2119" target="_top" len="9">[] RFC2119</a></font></font>
</p>

<p len="269" lang="zh-CHS">措辞迫切需要作为算法 （如"带状任何前导空格字符"或"返回 false，中止这些步骤"） 的一部分的要求是用在介绍该算法的密钥词 ("必须"、"应该"、"可能"等） 的含义的解释。</p>

<p len="165"><font lang="zh-CHS">一些一致性要求被措辞为属性、 方法或对象的要求。</font><font lang="zh-CHS">这种要求是被解释为对用户代理的要求。</font></p>

<p len="272"><font lang="zh-CHS">可能会以任何方式实施措辞为算法或具体步骤的一致性要求，只要最终的结果是等效。</font><font lang="zh-CHS">（尤其是，在本规范中定义的算法为了易于遵循，和不打算将性能。）</font></p>

<h2 id="terminology" len="40"><font lang="zh-CHS"><span class="secno" len="2">3</span></font><font lang="zh-CHS">术语</font></h2>

<p len="226"><font lang="zh-CHS">建设<code title="" len="3">Foo</code>对象"，在<code title="" len="3">Foo</code>实际上是一个接口，有时使用而不是更准确"实现接口的对象<code title="" len="3">Foo</code></font>". </p>

<p len="454"><font><font lang="zh-CHS">词 DOM 用来指在 Web 应用程序，提供的脚本的 API 集，并不一定意味着存在或任何其他<code len="4">Node</code>对象的实际<code len="8">Document</code>对象所界定的 DOM 核心规格。</font><font lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23DOM3Core" target="_top" len="10">[] DOM3CORE</a></font></font>
</p>

<p len="180" lang="zh-CHS">DOM 属性据说是<em len="7">获取</em>它的值在检索时 （如由作者脚本），并据说是<em len="7">设置</em>一个新值分配给它的时候。</p>

<p len="329"><font><font lang="zh-CHS">"JavaScript"一的词用于指的 ECMA262，而不是官方术语 ECMAScript，因为期限 JavaScript 是更广为人知。</font><font lang="zh-CHS" style=""><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23ECMA262" target="_top" len="9">[] ECMA262</a></font></font>
</p>

<p len="95" lang="zh-CHS">在这项工作，整个时间是从 1970 年 1 月 1 日 (UTC) 午夜以来以毫秒计。</p>

<h2 id="resource-timing" len="44"><font lang="zh-CHS"><span class="secno" len="2">4</span></font><font lang="zh-CHS">资源的时序</font></h2>

<h3 id="introduction-1" len="43"><font lang="zh-CHS"><span class="secno" len="4">4.1</span></font><font lang="zh-CHS">简介</font></h3>

<p len="30" lang="zh-CHS">这一节是非规范性的。</p>

<p len="3139"><font><font lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>接口方便时间测量的根页上的下载资源。</font><font lang="zh-CHS">它代表有关启动网络下载的资源的计时信息。</font><font lang="zh-CHS">例如，此接口是样式的可供<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2FXMLHttpRequest%2F%23the-xmlhttprequest-interface" target="_top" len="14">客户端代码</a>对象<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23XHR" target="_top" len="16">[起始地址]</a>、 HTML 元素<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23HTML5" target="_top" len="7">[HTML5]</a>如<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2Fthe-iframe-element.html%23the-iframe-element" target="_top" len="6">iframe</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2Fembedded-content-1.html%23the-img-element" target="_top" len="3">img</a>、<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2Fscripting-1.html%23script" target="_top" len="6">脚本</a>、<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2Fthe-iframe-element.html%23the-object-element" target="_top" len="6">对象</a>、<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2Fvideo.html%23audio" target="_top" len="5">音频</a>、<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2Fvideo.html%23video" target="_top" len="5">视频</a>、<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2Fthe-iframe-element.html%23the-embed-element" target="_top" len="5">嵌入</a>，和<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2Fsemantics.html%23the-link-element" target="_top" len="4">链接</a><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2Flinks.html%23link-type-stylesheet" target="_top" len="10">样式表</a>，该链接类型和 SVG 元素<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23SVG" target="_top" len="5">[SVG]</a>如<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2FSVG11%2Fstruct.html%23SVGElement" target="_top" len="3">svg</a></font></font>.

</p>

<p len="74" lang="zh-CHS">"资源"一词也用于引用这些元素，在这项工作。</p>

<div class="head" len="76742">
<h3 id="resources-included" len="303"><font lang="zh-CHS"><span class="secno" len="29">4.2 资源列入</span></font><font lang="zh-CHS"><code len="223"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top">PerformanceResourceTiming</a></code></font><font lang="zh-CHS">接口</font></h3>
<p len="686"><font lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>接口必须包括从网络层读取的当前浏览范围内的所有资源。</font><font lang="zh-CHS">从用户代理的网络层缓存中检索的资源必须包含在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>接口。</font></p>
<p len="42" lang="zh-CHS">本节的其余部分是非规范性的。</p>
<p len="19" lang="zh-CHS">例子：</p><ul len="4077">
        <li len="1101"><font lang="zh-CHS">如果同一规范 URL 用作两个<code len="3">IMG</code>元素的<code len="3">src</code>属性，发起的第一个<code len="3">IMG</code>元素的资源的读取应列入<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>接口。</font><font lang="zh-CHS">用户代理不可能重新请求的 URL 从网络层的第二个<code len="3">IMG</code>元素，而不使用一个内存中的浏览器缓存。</font><font lang="zh-CHS">在这种情况下，有只发送到网络层的检索，所以由第一个<code len="3">IMG</code>元素的资源的读取将会只发生在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>接口的单个请求。</font></li>
        <li len="444" lang="zh-CHS">如果通过脚本更改<code len="3">IMG</code>元素的<code len="3">src</code>属性，则在提取原始资源以及进行提取的新的 URL 将包括在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>界面中。</li>
        <li len="564"><font lang="zh-CHS">如果两次为同一规范 URL 生成<code len="14">XMLHttpRequest</code>，则将在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>界面中包括两个读取的资源。</font><font lang="zh-CHS">这是因为用户代理必须验证这两个请求从网络层，即使该资源是从第一个请求的磁盘高速缓存中。</font></li>
        <li len="1070"><font lang="zh-CHS">如果<code len="6">IFRAME</code>元素包含在页上，仅通过<code len="6">IFRAME</code>的<code len="3">src</code>属性请求的资源包括的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>接口。</font><font lang="zh-CHS">要求的<code len="6">IFRAME</code>文档的子资源将列入<code len="6">IFRAME</code>文档<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>接口和不父文档的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>接口。</font></li>
        <li len="803"><font lang="zh-CHS">如果<code len="3">IMG</code>元素具有<code len="153"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc2397" target="_top">data: URI</a></code>作为它的源，则此资源将不会包含在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>界面中。</font><font lang="zh-CHS">由定义<code len="153"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc2397" target="_top">data: URI</a></code>包含嵌入的数据，不需要对网络层的访问。</font></li>
    </ul>
<p len="720"><font lang="zh-CHS">用户代理可能会选择限制在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>界面中包含多少资源。</font><font lang="zh-CHS">建议的资源的最大数量是 150，虽然这可能会更改的用户代理。</font><font lang="zh-CHS">可以调用<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rt-setResourceTimingBufferSize" target="_top" len="40"><code>setResourceTimingBufferSize</code></a>来请求对此限制进行更改。</font></p>
<h3 len="123"><font lang="zh-CHS"><span class="secno" len="4">4.3</span></font><font lang="zh-CHS"><code len="65"><a id="performance-resource-timing">PerformanceResourceTiming</a></code>接口</font></h3>

<pre class="idl" len="7019">interface <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top">PerformanceResourceTiming</a> {

  const unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-other" target="_top">INITIATOR_OTHER</a> = 0;
  const unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-link" target="_top">INITIATOR_LINK</a> = 1;
  const unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-css" target="_top">INITIATOR_CSS</a> = 2;
  const unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-script" target="_top">INITIATOR_SCRIPT</a> = 3;
  const unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-image" target="_top">INITIATOR_IMAGE</a> = 4;
  const unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-object" target="_top">INITIATOR_OBJECT</a> = 5;
  const unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-frame" target="_top">INITIATOR_FRAME</a> = 6;
  const unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-subdocument" target="_top">INITIATOR_SUBDOCUMENT</a> = 7;
  const unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-xhr" target="_top">INITIATOR_XMLHTTPREQUEST</a> = 8;
  const unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-embed" target="_top">INITIATOR_EMBED</a> = 9;
  const unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-audio" target="_top">INITIATOR_AUDIO</a> = 10;
  const unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-video" target="_top">INITIATOR_VIDEO</a> = 11;
  const unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-svg" target="_top">INITIATOR_SVG</a> = 12;
  const unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-reserved" target="_top">INITIATOR_RESERVED</a> = 255;

  readonly attribute unsigned short <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type" title="type" target="_top">type</a>;
  readonly attribute DOMString <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23url" title="url" target="_top">url</a>;
  
  readonly attribute unsigned long long <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23resource-start" title="resourceStart" target="_top">resourceStart</a>;
  readonly attribute unsigned long long <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23redirect-start" title="redirectstart" target="_top">redirectStart</a>;
  readonly attribute unsigned long long <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23redirect-end" title="redirectend" target="_top">redirectEnd</a>;
  readonly attribute unsigned long long <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23fetch-start" title="fetchstart" target="_top">fetchStart</a>;
  readonly attribute unsigned long long <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-start" title="domainlookupstart" target="_top">domainLookupStart</a>;
  readonly attribute unsigned long long <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-end" title="domainlookupend" target="_top">domainLookupEnd</a>;
  readonly attribute unsigned long long <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-start" title="connectstart" target="_top">connectStart</a>;
  readonly attribute unsigned long long <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-end" title="connectend" target="_top">connectEnd</a>;
  readonly attribute unsigned long long <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23secureconnection-start" title="secureconnectionstart" target="_top">secureConnectionStart</a>;
  readonly attribute unsigned long long <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23request-start" title="requeststart" target="_top">requestStart</a>;
  readonly attribute unsigned long long <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23response-start" title="responsestart" target="_top">responseStart</a>;
  readonly attribute unsigned long long <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23response-end" title="responseend" target="_top">responseEnd</a>;
};</pre>

<h4 id="type-attribute" len="48" lang="zh-CHS"><code len="25"><dfn id="type">type</dfn></code>属性</h4>

<p len="91" lang="zh-CHS">此属性必须返回发起了对资源的请求的对象的类型：</p>
<dl len="1277">
  <dt len="90" lang="zh-CHS"><dfn id="type-other" len="15">INITIATOR_OTHER</dfn>： 启动器不是下面列出的任何类型。</dt>
  <dt len="74" lang="zh-CHS"><dfn id="type-link" len="14">INITIATOR_LINK</dfn>： 启动器是链接元素。</dt>
  <dt len="63" lang="zh-CHS"><dfn id="type-css" len="13">INITIATOR_CSS</dfn>： 启动器是 CSS。</dt>
  <dt len="78" lang="zh-CHS"><dfn id="type-script" len="16">INITIATOR_SCRIPT</dfn>： 启动器是脚本元素。</dt>
  <dt len="76" lang="zh-CHS"><dfn id="type-image" len="15">INITIATOR_IMAGE</dfn>： 启动器是 IMG 元素。</dt>
  <dt len="81" lang="zh-CHS"><dfn id="type-object" len="16">INITIATOR_OBJECT</dfn>： 启动器是对象元素。</dt>
  <dt len="77" lang="zh-CHS"><dfn id="type-frame" len="15">INITIATOR_FRAME</dfn>： 启动器是框架元素。</dt>
  <dt len="91" lang="zh-CHS"><dfn id="type-subdocument" len="21">INITIATOR_SUBDOCUMENT</dfn>： 启动器是 IFRAME 元素。</dt>
  <dt len="92" lang="zh-CHS"><dfn id="type-xhr" len="24">INITIATOR_XMLHTTPREQUEST</dfn>： 启动器是一个客户端对象。</dt>
  <dt len="78" lang="zh-CHS"><dfn id="type-embed" len="15">INITIATOR_EMBED</dfn>： 启动器是 EMBED 元素。</dt>
  <dt len="78" lang="zh-CHS"><dfn id="type-audio" len="15">INITIATOR_AUDIO</dfn>： 启动器是音频的元素。</dt>
  <dt len="77" lang="zh-CHS"><dfn id="type-video" len="15">INITIATOR_VIDEO</dfn>: 发起者是一个视频元素。</dt>
  <dt len="71" lang="zh-CHS"><dfn id="type-svg" len="13">INITIATOR_SVG</dfn>: 发起者是一个 SVG 元素。</dt>
  <dt len="82" lang="zh-CHS"><dfn id="type-reserved" len="18">INITIATOR_RESERVED</dfn>： 这保留供将来使用。</dt>
</dl>

<h4 id="url-attribute" len="46" lang="zh-CHS"><code len="23"><dfn id="url">url</dfn></code>属性</h4>

<p len="313"><font lang="zh-CHS">此属性必须返回已解析的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2Furls.html%23resolve-a-url" target="_top" len="3">URL</a>请求的资源。</font><font lang="zh-CHS">即使提取操作重定向到一个不同的 URL，必须不更改该属性。</font></p>

<h4 id="resource-start-attribute" len="67" lang="zh-CHS"><code len="44"><dfn id="resource-start">resourceStart</dfn></code>属性</h4>

<p len="1143"><font><font lang="zh-CHS">此属性必须返回立即之前用户代理程序开始排队来获取资源的时间。</font><font lang="zh-CHS">如果有 HTTP 定向<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Ffetching-resources.html%23concept-http-equivalent-codes" target="_top" len="14">或等效</a>读取资源时和如果所有重定向或相当于从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23origin" target="_top" len="12">同一起源</a>作为当前文档，该属性必须返回相同的值<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23redirect-start" target="_top" len="13">redirectStart</a>。</font><font lang="zh-CHS">否则，此属性必须返回相同的值<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23fetch-start" target="_top" len="10">fetchStart</a></font></font>.</p>

<h4 id="redirect-start-attribute" len="67" lang="zh-CHS"><code len="44"><dfn id="redirect-start">redirectStart</dfn></code>属性</h4>

<p len="799" lang="zh-CHS">如果有 HTTP 定向<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Ffetching-resources.html%23concept-http-equivalent-codes" target="_top" len="13">或等效</a>读取资源时和如果所有重定向或相当于从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23origin" target="_top" len="11">同一起源</a>作为当前文档，该属性必须返回启动重定向<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23fetch-start" target="_top" len="26">的起始时间进行提取</a>。</p>

<p len="1091"><font lang="zh-CHS">如果有 HTTP 重定向<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Ffetching-resources.html%23concept-http-equivalent-codes" target="_top" len="13">或等效</a>读取资源时，如果所有的重定向都不是从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23origin" target="_top" len="11">相同的起源</a>作为当前文档中，而且<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23timing-allow-origin" target="_top" len="19">时间允许产地来源</a>HTTP 响应标头规则都满足，此属性必须返回的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23fetch-start" target="_top" len="26">开始时间在提取</a>启动重定向的。</font><font lang="zh-CHS">否则，此属性必须返回零。</font></p>

<h4 id="redirect-end-attribute" len="63" lang="zh-CHS"><code len="40"><dfn id="redirect-end">redirectEnd</dfn></code>属性</h4>

<p len="646" lang="zh-CHS">如果有 HTTP 定向<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Ffetching-resources.html%23concept-http-equivalent-codes" target="_top" len="13">或等效</a>读取资源时和如果所有重定向或相当于从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23origin" target="_top" len="11">同一起源</a>作为当前文档，该属性必须返回后立即接收响应的最后一个重定向的最后一个字节的时间。</p>

<p len="939"><font lang="zh-CHS">如果有 HTTP 重定向<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Ffetching-resources.html%23concept-http-equivalent-codes" target="_top" len="13">或等效</a>读取资源时，如果所有的重定向都不是从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23origin" target="_top" len="11">相同的起源</a>作为当前文档中，而且<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23timing-allow-origin" target="_top" len="19">时间允许产地来源</a>HTTP 响应标头规则都满足，此属性必须返回后立即接收响应的最后一个重定向的最后一个字节的时间。</font><font lang="zh-CHS">否则，此属性必须返回零。</font></p>

<h4 id="fetch-start-attribute" len="61" lang="zh-CHS"><code len="38"><dfn id="fetch-start">fetchStart</dfn></code>属性</h4>

<p len="287" lang="zh-CHS">此属性必须返回紧接之前的用户代理启动<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2Ffetching-resources.html%23fetching-resources" target="_top" len="5">回迁</a>到资源的时间。</p>

<h4 id="domainlookup-start-attribute" len="75" lang="zh-CHS"><code len="52"><dfn id="domainlookup-start">domainLookupStart</dfn></code>属性</h4>

<p len="1019"><font><font lang="zh-CHS">此属性必须返回立即之前在用户代理启动域名称查找的资源的时间。</font><font lang="zh-CHS">如果使用 [<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rfc2616" target="_top" len="8">RFC 2616</a>] 的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FProtocols%2Frfc2616%2Frfc2616-sec8.html%23sec8.1" target="_top" len="21">持久连接</a>或从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Foffline.html%23relevant-application-cache" target="_top" len="27">有关应用程序缓存</a>或本地资源中检索资源，此属性必须返回相同的值<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23fetch-start" target="_top" len="10">fetchStart</a></font></font>. </p>

<p len="576" lang="zh-CHS">如果上次非定向提取的资源不是当前文档相同的原点， <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-start" target="_top" len="17">domainLookupStart</a>必须返回零，除非<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23timing-allow-origin" target="_top" len="19">时机允许起源</a>HTTP 响应标头规则适用。</p>

<h4 id="domainlookup-end-attribute" len="71" lang="zh-CHS"><code len="48"><dfn id="domainlookup-end">domainLookupEnd</dfn></code>属性</h4>

<p len="1020"><font><font lang="zh-CHS">此属性必须返回的时间的用户代理完成的资源域的名称查找后立即。</font><font lang="zh-CHS">如果使用 [<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rfc2616" target="_top" len="8">RFC 2616</a>] 的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FProtocols%2Frfc2616%2Frfc2616-sec8.html%23sec8.1" target="_top" len="21">持久连接</a>或从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Foffline.html%23relevant-application-cache" target="_top" len="27">有关应用程序缓存</a>或本地资源中检索资源，此属性必须返回相同的值<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23fetch-start" target="_top" len="10">fetchStart</a></font></font>. </p>

<p len="191" lang="zh-CHS">如果用户代理缓存中的域信息，domainLookupStart 和 domainLookupEnd 表示当用户代理启动和结束从缓存中检索域数据的时间。</p>

<p len="572" lang="zh-CHS">如果上次非定向提取的资源不是当前文档相同的原点， <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-end" target="_top" len="15">domainLookupEnd</a>必须返回零，除非<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23timing-allow-origin" target="_top" len="19">时机允许起源</a>HTTP 响应标头规则适用。</p>

<h4 id="connect-start-attribute" len="65" lang="zh-CHS"><code len="42"><dfn id="connect-start">connectStart</dfn></code>属性</h4>

<p len="1045"><font><font lang="zh-CHS">此属性必须返回立即前建立连接到服务器以检索资源的用户代理程序开始的时间。</font><font lang="zh-CHS">如果使用 [<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rfc2616" target="_top" len="8">RFC 2616</a>] 的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FProtocols%2Frfc2616%2Frfc2616-sec8.html%23sec8.1" target="_top" len="21">持久连接</a>或从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Foffline.html%23relevant-application-cache" target="_top" len="27">有关应用程序缓存</a>或本地资源中检索资源，此属性必须返回的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-end" target="_top" len="15">domainLookupEnd</a>的值</font></font>.</p>

<p len="566" lang="zh-CHS">如果上次非定向提取的资源不是当前文档相同的原点， <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-start" target="_top" len="12">connectStart</a>必须返回零，除非<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23timing-allow-origin" target="_top" len="19">时机允许起源</a>HTTP 响应标头规则适用。</p>

<h4 id="connect-end-attribute" len="62" lang="zh-CHS"><code len="38"><dfn id="connect-end">connectEnd</dfn></code>属性</h4>

<p len="1051"><font><font lang="zh-CHS">此属性必须返回的时间的用户代理完成建立连接到服务器以检索资源后立即。</font><font lang="zh-CHS">如果使用 [<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rfc2616" target="_top" len="8">RFC 2616</a>] 的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FProtocols%2Frfc2616%2Frfc2616-sec8.html%23sec8.1" target="_top" len="21">持久连接</a>或从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Foffline.html%23relevant-application-cache" target="_top" len="27">有关应用程序缓存</a>或本地资源中检索资源，此属性必须返回的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-end" target="_top" len="15">domainLookupEnd</a>值</font></font>.</p>

<p len="531" lang="zh-CHS">如果传输连接失败，用户代理重新打开连接、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-start" target="_top" len="12">connectStart</a>和<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-end" target="_top" len="10">通常</a>应返回相应的值的新的连接。</p>

<p len="351"><font lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-end" target="_top" len="10">通常</a>必须包括要建立传输连接的时间间隔。</font><font lang="zh-CHS">它不能包含其他 SSL 握手和袜子身份验证等的时间间隔。</font></p>

<p len="562" lang="zh-CHS">如果上次非定向提取的资源不是当前文档相同的原点，<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-end" target="_top" len="10">通常</a>必须返回零，除非<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23timing-allow-origin" target="_top" len="19">时机允许起源</a>HTTP 响应标头规则适用。</p>

<h4 id="secureconnection-start-attribute" len="84" lang="zh-CHS"><code len="60"><dfn id="secureconnection-start">secureConnectionStart</dfn></code>属性</h4>


<p len="734"><font lang="zh-CHS">此属性是可选的。</font><font lang="zh-CHS">不具有此属性可用的用户代理必须将它设置为未定义。</font><font lang="zh-CHS">当此属性是可用的如果<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2Furls.html%23url-scheme" target="_top" len="6">计划</a>的当前页是<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc2817" target="_top" len="5">HTTPS</a>，此属性必须返回紧接之前的用户代理启动的握手过程，确保当前连接的时间。</font><font lang="zh-CHS">如果 secureConnectionStart 属性是可用，但不是使用 HTTPS，此属性必须返回零。</font></p>

<p len="584" lang="zh-CHS">如果上次非定向提取的资源不是当前文档相同的原点， <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23secureconnection-start" target="_top" len="21">secureConnectionStart</a>必须返回零，除非<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23timing-allow-origin" target="_top" len="19">时机允许起源</a>HTTP 响应标头规则适用。</p>

<h4 id="request-start-attribute" len="65" lang="zh-CHS"><code len="42"><dfn id="request-start">requestStart</dfn></code>属性</h4>

<p len="141"><font lang="zh-CHS">此属性必须返回立即之前在用户代理启动请求资源的时间。</font><font lang="zh-CHS">它是在检查 HTTP 缓存之前设置。</font></p>

<p len="375" lang="zh-CHS">如果传输连接失败后发送一个请求，用户代理重新打开一个连接，然后重新发送请求， <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23request-start" target="_top" len="12">requestStart</a>必须返回相应的值的新的请求。</p>

<p len="566" lang="zh-CHS">如果上次非定向提取的资源不是当前文档相同的原点， <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23request-start" target="_top" len="12">requestStart</a>必须返回零，除非<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23timing-allow-origin" target="_top" len="19">时机允许起源</a>HTTP 响应标头规则适用。</p>

<h4 id="response-start-attribute" len="68" lang="zh-CHS"><code len="44"><dfn id="response-start">responseStart</dfn></code>属性</h4>

<p len="379" lang="zh-CHS">此属性必须返回的时间的用户代理接收响应的第一个字节从服务器上，或从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.whatwg.org%2Fspecs%2Fweb-apps%2Fcurrent-work%2F%23relevant-application-cache" target="_top" len="27">有关应用程序缓存</a>或从当地的资源后，立即。</p>

<p len="568" lang="zh-CHS">如果上次非定向提取的资源不是当前文档相同的原点， <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23response-start" target="_top" len="13">responseStart</a>必须返回零，除非<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23timing-allow-origin" target="_top" len="19">时机允许起源</a>HTTP 响应标头规则适用。</p>

<h4 id="response-end-attribute" len="64" lang="zh-CHS"><code len="40"><dfn id="response-end">responseEnd</dfn></code>属性</h4>

<p len="373" lang="zh-CHS">此属性必须返回的时间的用户代理完成从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.whatwg.org%2Fspecs%2Fweb-apps%2Fcurrent-work%2F%23relevant-application-cache" target="_top" len="27">有关应用程序缓存</a>或从当地资源接收从资源的最后一个字节后立即。</p>

<h3 id="performance-resource-timing-methods" len="58"><font lang="zh-CHS"><span class="secno" len="4">4.4</span></font><font lang="zh-CHS">资源计时方法</font></h3>

<pre class="idl" len="301">[Supplemental] Performance {
  void clearResourceTimings();
  PerformanceResourceTimingList getResourceTimings();
  PerformanceResourceTimingList getResourceTimingsByLocation( in Location location );
  void setResourceTimingBufferSize (in unsigned long maxSize);

  attribute Function onbufferfull;
};</pre>
<pre class="idl" len="149">interface PerformanceResourceTimingList{
   readonly attribute unsigned long length;
   getter ResourcePerformanceTiming(in unsigned long index);
};
</pre>

<div class="methods" len="564">
    <h4 id="rt-clearResourceTimings" len="40" lang="zh-CHS"><code len="20">clearResourceTimings</code>方法</h4>
	<p len="340" lang="zh-CHS">方法<code len="20">clearResourceTimings</code>清除缓冲区用来存储的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>资源的当前列表。</p>
		<div class="parameters" len="98">
			<p len="20"><b len="13" lang="zh-CHS">没有参数</b></p>
			<p len="22"><b len="15" lang="zh-CHS">没有返回值</b></p>
			<p len="20"><b len="13" lang="zh-CHS">无一例外</b></p>
		</div>
</div>

<div class="methods" len="829">
	<h4 id="rt-getResourceTimings" len="38" lang="zh-CHS"><code len="18">getResourceTimings</code>方法</h4>
	<p len="310" lang="zh-CHS"><code len="18">getResourceTimings</code>接口检索数组<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>的所有资源。</p><div class="parameters" len="403">
			<p len="20"><b len="13" lang="zh-CHS">没有参数</b></p>
			<p len="19"><b len="12" lang="zh-CHS">返回值</b></p>
			<p len="42"><code len="29">PerformanceResourceTimingList</code></p>
			<p len="244" lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>资源的列表。</p>
			<p len="20"><b len="13" lang="zh-CHS">无一例外</b></p>
		</div>
</div>

<div class="methods" len="1234">
	<h4 id="rt-getResourceTimingsByLocation" len="48" lang="zh-CHS" style=""><code len="28">getResourceTimingsByLocation</code>方法</h4>
	<p len="342" lang="zh-CHS"><code len="28">getResourceTimingsByLocation</code>接口检索<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>资源的数组所确定的位置。</p>
		<div class="parameters" len="753">
			<p len="17"><b len="10" lang="zh-CHS">参数</b></p><font lang="zh-CHS">在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2FDOM-Level-3-Core%2Fcore.html%23Interfaces-DOMLocator" target="_top" len="42"><span class="style2">DOMLocator</span></a>的<span class="style1" len="8">位置</span>类型</font>
			<p len="62" lang="zh-CHS">Id 参数指定要检索哪些资源计时。</p>
			<p len="19"><b len="12" lang="zh-CHS">返回值</b></p>
			<p len="42"><code len="29">PerformanceResourceTimingList</code></p>
			<p len="244" lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>资源的列表。</p>
			<p len="20"><b len="13" lang="zh-CHS">无一例外</b></p>
		</div>
</div>

<div class="methods" len="1382">
	<h4 id="rt-setResourceTimingBufferSize" len="47" lang="zh-CHS"><code len="27">setResourceTimingBufferSize</code>方法</h4>
	<p len="405" lang="zh-CHS"><code len="27">setResourceTimingBufferSize</code>方法，当调用时，必须设置可能到 maxSize 参数的值的缓冲区中存储的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>资源的最大数目。</p>
	<p len="359" lang="zh-CHS">如果不调用此方法，则存储的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>资源的默认最大数目必须是 150，除非另有指定的用户代理。</p>
		<div class="parameters" len="472">
			<p len="17"><b len="10" lang="zh-CHS">参数</b></p><font lang="zh-CHS">在<code len="7">maxSize</code>类型的无符号长整型</font><p len="317" lang="zh-CHS">MaxSize 参数设置将存储在缓冲区中的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>资源的最大数目。</p>
			<p len="22"><b len="15" lang="zh-CHS">没有返回值</b></p>
			<p len="20"><b len="13" lang="zh-CHS">无一例外</b></p>
		</div>
</div>

<div class="methods" len="3707">
	<h4 id="rt-onbufferfull" len="35" lang="zh-CHS"><code len="12">onbufferfull</code>属性</h4>
	<p len="1490"><font lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>的列表存储所使用的缓冲区已满时，将触发回调 onbufferfull。</font><font lang="zh-CHS">回调可以用于现有的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>资源打包并清除缓冲的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>列表。</font><font lang="zh-CHS" style="">当执行的 onbufferfull 回调时， <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>将继续收集超出最大限制的资源允许在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>界面中，直到发生以下情况之一：</font></p><ol len="2131">
		<li len="1106">
            <font><font lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rt-clearResourceTimings" target="_top" len="33"> <code>clearResourceTimings</code></a>被称为-PerformanceResourceTimingList 将开始的 n + 1 项，如果它存在，并且发布前 n 个元素，其中 n 是资源中的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>接口允许的最大数目。</font><font lang="zh-CHS">如果 n + 1 项不存在，则清除缓冲区。</font><font lang="zh-CHS">除非另有指定的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rt-setResourceTimingBufferSize" target="_top" len="40"><code>setResourceTimingBufferSize</code> </a> PerformanceResourceTimingList 的最大长度不会更改</font></font>.
        </li>
		<li len="347" lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rt-setResourceTimingBufferSize" target="_top" len="40"> <code>setResourceTimingBufferSize</code></a>被称为-PerformanceResourceTimingList 将延长和/或截断到指定的缓冲区大小。</li>
		<li len="637" lang="zh-CHS">既不在 onbufferfull 回调的执行过程中调用<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rt-clearResourceTimings" target="_top" len="33"><code>clearResourceTimings</code></a>或<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rt-setResourceTimingBufferSize" target="_top" len="40"><code>setResourceTimingBufferSize</code> </a> -对 PerformanceResourceTimingList 进行任何更新。</li>
    </ol>
</div>

<h3 id="cross-origin-resources" len="26" lang="zh-CHS">4.5 跨起源资源</h3>
    <p len="2450"><font><font lang="zh-CHS">从跨起源资源信息必须包含在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>接口。</font><font lang="zh-CHS">在没有<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23timing-allow-origin" target="_top" len="19">时间允许起源</a>HTTP 响应标头的情况下，这些属性必须设置为零： <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23redirect-start" target="_top" len="13">redirectStart</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23redirect-end" target="_top" len="11">redirectEnd</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-start" target="_top" len="17">domainLookupStart</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-end" target="_top" len="15">domainLookupEnd</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-start" target="_top" len="12">connectStart</a>、<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-end" target="_top" len="10">通常</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23request-start" target="_top" len="12">requestStart</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23response-start" target="_top" len="13">responseStart</a>和<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23response-end" target="_top" len="11">responseEnd</a></font></font>.
    </p>
    <p len="334"><font><font lang="zh-CHS">由起源 HTTP 标头定义的术语<dfn id="origin" len="6">来源</dfn>和<dfn id="same-origin" len="11">起源相同</dfn>。</font><font lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23ref-origin" target="_top" len="8">[来源]</a></font></font>
    </p>
    <p len="287"><font lang="zh-CHS">期限<dfn id="cross-origin" len="12">跨起源</dfn>用于非<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23same-origin" target="_top" len="11">同一起源</a>的意思是</font>.
    </p>
    <p len="508" lang="zh-CHS" style="">服务器端应用程序可能会返回<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23timing-allow-origin" target="_top" len="19">时间允许起源</a>HTTP 响应标头，以允许用户代理完全暴露，文档 origin(s) 指定，都已将零交叉原产地限制以前在这一节中指定的属性的值。</p>
    <h4 id="timing-allow-origin" len="48"><font lang="zh-CHS"><code len="19">Timing-Allow-Origin</code></font><font lang="zh-CHS">响应标头</font></h4>
    <div class="parameters" len="674">
        <p len="249"><font lang="zh-CHS"><dfn id="http-access-control-allow-origin" len="32"><code>Timing-Allow-Origin</code></dfn>标头指示是否资源的时序可共享基于通过在响应中返回的起源请求标头的值。</font><font lang="zh-CHS">ABNF：</font></p>
        <pre len="73">Timing-Allow-Origin = "Timing-Allow-Origin" ":" origin-list-or-null | "*"</pre>
        <p len="295">
            <font><font lang="zh-CHS">起源 HTTP 标头的定义是<code len="19">origin-list-or-null</code> 。</font><font lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23ref-origin" target="_top" len="21">[来源]</a></font></font>
        </p>
    </div>


<h2 id="process" len="36"><font lang="zh-CHS"><span class="secno" len="2">5</span></font><font lang="zh-CHS">进程</font></h2>
<h3 id="processing-model" len="47"><font lang="zh-CHS"><span class="secno" len="4">5.1</span></font><font lang="zh-CHS">处理模型</font></h3>

<p len="12" lang="zh-CHS">图</p>

<p len="30" lang="zh-CHS">这一节是非规范性的。</p>

<p len="499"><font lang="zh-CHS">下图阐释了 PerformanceResourceTiming 接口所定义的时间属性。</font><font lang="zh-CHS">从不同<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23same-origin" target="_top" len="7">来源</a>获取的资源时强调的属性可能不可用。</font><font lang="zh-CHS">用户代理可能会执行内部处理在排练时间，允许为非规范性排练时间之间的时间间隔。</font></p>

<p len="85"><img width="85%" alt="Resource Timing attributes" src="resource-timing-overview.png" len="0"></p>

<ol len="21909">
  <li len="545" lang="zh-CHS">一次<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2Fhistory.html%23create-a-document-object" target="_top" len="51">创建当前文档的窗口对象</a>，用户代理必须创建一个<i len="14">主缓冲</i>存储<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>资源的列表。</li>
  <li len="362" lang="zh-CHS">将<i len="14">主缓冲区</i>设置为一个大小为 150，，除非另有指定的用户代理或<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rt-setResourceTimingBufferSize" target="_top" len="40"><code>setResourceTimingBufferSize</code></a>方法设置的。</li>
  <li len="20965"><font lang="zh-CHS">获取由当前浏览范围内的每个资源，请执行以下步骤：</font><ol len="20863">
      <li id="step-create-object" len="251" lang="zh-CHS">创建一个新的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>对象。</li>      
      <li len="320"><font lang="zh-CHS">用户代理立即开始排队的检索资源之前，请记录作为<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23resource-start" target="_top" len="13">resourceStart</a>的当前时间</font>.
      </li>
      <li len="237"><font lang="zh-CHS">在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-attribute" target="_top" len="4">类型</a>中记录资源的启动器</font>.
      </li>
      <li len="412"><font lang="zh-CHS">在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23url-attribute" target="_top" len="3">url</a>中记录已解析的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2Furls.html%23resolve-a-url" target="_top" len="3">URL</a>请求的资源</font>.
      </li>
      <li id="step-fetch-start" len="1270"><font><font lang="zh-CHS">如果要获取使用 HTTP GET<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Ffetching-resources.html%23concept-http-equivalent-codes" target="_top" len="14">或等效</a>的新资源，紧接之前用户代理检查与<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Foffline.html%23relevant-application-cache" target="_top" len="35">有关应用程序缓存</a>，作为<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23fetch-start" target="_top" len="10">fetchStart</a>的当前时间的记录。</font><font lang="zh-CHS">否则，用户代理立即启动的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Ffetching-resources.html%23fetching-resources" target="_top" len="25">提取过程</a>之前，请记录作为<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23fetch-start" target="_top" len="11">fetchStart</a>的当前时间</font></font>.
      </li>
      <li id="step-collection-start" len="166" lang="zh-CHS">如果该资源并不是从网络层，如从内存中的缓存，回迁回迁中止以下步骤。</li>
      <li len="85" lang="zh-CHS">如果取资源因任何原因中止，中止以下步骤。</li>
      <li len="2292" lang="zh-CHS">如果上次非定向提取的资源不是不适用于当前文档和<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23timing-allow-origin" target="_top" len="19">时机允许起源</a>HTTP 响应标头相同的原点，用户代理必须将<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23redirect-start" target="_top" len="13">redirectStart</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23redirect-end" target="_top" len="11">redirectEnd</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-start" target="_top" len="17">domainLookupStart</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-end" target="_top" len="15">domainLookupEnd</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-start" target="_top" len="12">connectStart</a>、<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-end" target="_top" len="10">通常</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23request-start" target="_top" len="12">requestStart</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23response-start" target="_top" len="13">responseStart</a>和<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23response-end" target="_top" len="11">responseEnd</a>设置为零并中止以下步骤。</li>
        <li len="1056"><font lang="zh-CHS">让<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-start" target="_top" len="17">domainLookupStart</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-end" target="_top" len="15">domainLookupEnd</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-start" target="_top" len="12">connectStart</a>和<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-end" target="_top" len="10">通常</a>将<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23fetch-start" target="_top" len="10">fetchStart</a>的值相同</font>.</li>
      <li len="486"><font lang="zh-CHS">如果资源提取的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Foffline.html%23relevant-application-cache" target="_top" len="34">有关应用程序缓存</a>或本地资源，请转到步骤<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23step-request-start" target="_top" len="4">3.15</a></font>.
      </li>
      <li len="547"><font><font lang="zh-CHS">如果没有域查找是必需的转到步<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23step-connect-start" target="_top" len="4">3.13</a>。</font><font lang="zh-CHS">否则，用户代理立即启动域名称查找之前，记录作为<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-start" target="_top" len="17">domainLookupStart</a>的时间</font></font>.</li>
      <li len="408"><font lang="zh-CHS">域的名称查找成功完成后，立即记录作为<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-end" target="_top" len="15">domainLookupEnd</a>的时间。</font><font lang="zh-CHS" style="">一个用户代理可能需要多次重试在那之前。</font><font lang="zh-CHS">如果域查找失败，则中止以下步骤。</font></li>
      <li id="step-connect-start" len="1448"><font lang="zh-CHS">如果使用持久性运输连接获取资源，让<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-start" target="_top" len="12">connectStart</a> ，<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-end" target="_top" len="10">通常</a>是相同的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23domainlookup-end" target="_top" len="15">domainLookupEnd</a>值。</font><font lang="zh-CHS">否则为记录作为<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-start" target="_top" len="12">connectStart</a>立即前发起到服务器的连接的时间，建立到服务器或代理服务器的连接后，立即记录作为<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-end" target="_top" len="10">通常</a>的时间。</font><font lang="zh-CHS">在此时间之前，一个用户代理可能需要多个重试次数。</font><font lang="zh-CHS">如果不能建立连接，中止以下步骤。</font></li>
      <li len="1318"><font lang="zh-CHS">如果用户代理支持<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23secureconnection-start" target="_top" len="21">secureConnectionStart</a>属性中，在一步<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23step-connect-start" target="_top" len="4">3.13</a>，一个用户代理还应执行这些额外的步骤：</font><ol len="768">
        <li len="396" lang="zh-CHS">如果当前资源的计划是 HTTPS，用户代理必须记录作为<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23secureconnection-start" target="_top" len="21">secureConnectionStart</a>紧接之前的握手过程来保护连接的时间。</li>
        <li len="327" lang="zh-CHS">如果当前资源的计划不是 HTTPS，用户代理必须将<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23secureconnection-start" target="_top" len="21">secureConnectionStart</a>的值设置为 0。</li>
        </ol>
      </li>
      <li id="step-request-start" len="315"><font lang="zh-CHS">一个用户代理立即开始发送对资源的请求之前，请记录作为<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23request-start" target="_top" len="12">requestStart</a>的当前时间</font>.
      </li>
      <li id="step-response-start" len="306" lang="zh-CHS">用户代理接收响应的第一个字节后，立即记录作为<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23response-start" target="_top" len="21">responseStart</a>的时间。</li>
      <li id="step-response-end" len="2163"><font lang="zh-CHS">记录作为<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23response-end" target="_top" len="11">responseEnd</a>后立即接收响应的最后一个字节的时间。</font><p len="329" lang="zh-CHS">返回到步骤<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23step-connect-start" target="_top" len="4">3.13</a>如果用户代理失败，将请求发送或接收整个响应，并需要重新打开该连接。</p>

        <div class="example" len="1494">
        <div class="exampleHeader" len="7" lang="zh-CHS">示例</div>
        <p len="1420"><font lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FProtocols%2Frfc2616%2Frfc2616-sec8.html%23sec8.1" target="_top" len="22">持久性连接</a>[<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rfc2616" target="_top" len="8">RFC 2616</a>] 启用时，用户代理可能会首先尝试重新使用打开连接来发送请求，而连接可以是<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FProtocols%2Frfc2616%2Frfc2616-sec8.html%23sec8.1.4" target="_top" len="30">异步关闭</a>。</font><font lang="zh-CHS">在这种情况下， <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-start" target="_top" len="12">connectStart</a>，<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23connect-end" target="_top" len="10">通常</a>和<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23request-start" target="_top" len="12">requestStart</a>应该代表计时信息收集了重新打开连接。</font></p>
        </div>
      </li>
      <li len="3112"><font lang="zh-CHS">如果读取的资源结果在 HTTP 重定向<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Ffetching-resources.html%23concept-http-equivalent-codes" target="_top" len="14">或等效</a>然后</font><ol style="list-style-type:lower-alpha;" len="2777"> 
            <li len="950"><font lang="zh-CHS">如果当前资源和资源重定向到不是从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Forigin-0.html%23origin" target="_top" len="11">相同的起源</a>、 设置的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23redirect-start" target="_top" len="27">redirectStart</a>和<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23redirect-end" target="_top" len="11">redirectEnd</a>为 0。</font><font lang="zh-CHS">然后，返回步骤<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23step-fetch-start" target="_top" len="17">3.5</a>与新资源。</font></li>
            <li len="89" lang="zh-CHS">如果 redirectStart 的值未设置，让它成为 fetchStart 的值。</li>
            <li len="57" lang="zh-CHS">让 redirectEnd 将 responseEnd 的值。</li>
            <li len="1320"><font lang="zh-CHS">在为 0 除<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23resource-start" target="_top" len="13">resourceStart</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23redirect-start" target="_top" len="13">redirectStart</a>、 <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23redirect-end" target="_top" len="25">redirectEnd</a>、<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23type-attribute" target="_top" len="4">类型</a>和<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23url-attribute" target="_top" len="3">url</a>的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="39">PerformanceResourceTiming</a>对象中设置的所有属性</font>.
            </li>
            <li len="241" lang="zh-CHS">返回步骤<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23step-fetch-start" target="_top" len="3">3.5</a>与新资源。</li>
        </ol>
      </li>
      <li len="3342"><font lang="zh-CHS">如果<i len="14">主缓冲区</i>已满，必须触发回调<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rt-onbufferfull" target="_top" len="25"><code>onbufferfull</code> </a> 。</font><ol len="3034">
            <li len="281" lang="zh-CHS">创建一个<i len="16">临时缓冲区</i>的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>对象。</li>
            <li len="69"><font lang="zh-CHS">将当前资源添加到<i len="16">临时缓冲区</i></font>.
            </li>
            <li len="351"><font lang="zh-CHS">如果有的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rt-onbufferfull" target="_top" len="25"><code>onbufferfull</code></a>回调期间收集的额外资源，将它们添加到<i len="16">临时缓冲区</i></font>.
            </li>
            <li len="1118"><font><font lang="zh-CHS">如果在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rt-onbufferfull" target="_top" len="25"><code>onbufferfull</code></a>回调调用<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rt-clearResourceTimings" target="_top" len="33"><code>clearResourceTimings</code></a>方法，清除所有的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>对象的<i len="14">主缓冲区</i>中。</font><font lang="zh-CHS">复制到<i len="14">主缓冲区</i>的<i len="16">临时缓冲区</i>中的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>的所有对象</font></font>.
            </li>
            <li len="1037"><font lang="zh-CHS">如果在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rt-onbufferfull" target="_top" len="25"><code>onbufferfull</code></a>回调调用<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23rt-setResourceTimingBufferSize" target="_top" len="40"><code>setResourceTimingBufferSize</code></a>方法，设置<i len="14">主缓冲区</i>的最大大小为 maxSize 参数。</font><font lang="zh-CHS">如果 maxSize 参数大于前一<i len="14">主缓冲区</i>的大小，向<i len="14">主缓冲区</i>到 maxSize 参数追加<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>对象的<i len="16">临时缓冲区</i>中。</font></li>
		    <li len="43"><font lang="zh-CHS">丢弃<i len="16">临时缓冲区</i></font>.
		    </li>
        </ol>
      </li>
      <li len="535"><font lang="zh-CHS">如果<i len="14">主缓冲区</i>未满，添加的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="25">PerformanceResourceTiming</a>对象，创建的步骤<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23step-create-object" target="_top" len="3">3.1</a>，到<i len="14">主缓冲区</i></font>.
      </li>
      <li id="step-collection-end" len="253"><font lang="zh-CHS">如果有额外的资源，返回步骤<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23step-collection-start" target="_top" len="3">3.1</a></font>.
      </li>
  </ol>
  </li>
</ol>

<h3 id="monotonic-clock" len="46"><font lang="zh-CHS"><span class="secno" len="4">5.2</span></font><font lang="zh-CHS">单调的时钟</font></h3>
<p len="476"><font lang="zh-CHS">时间属性的值必须单调增加，从而确保计时属性不扭曲的导航过程中对系统时钟进行调整。</font><font lang="zh-CHS">按时间顺序记录的时间的任何两个属性之间的区别不能为负值。</font><font lang="zh-CHS">用户代理必须记录在航海的开始的系统时钟，并定义随后计时属性的一个单调的时钟测量时间从所经过的导航开始。</font></p>

<h2 id="privacy" len="36"><font lang="zh-CHS"><span class="secno" len="2">6</span></font><font lang="zh-CHS">隐私</font></h2>

<p len="30" lang="zh-CHS">这一节是非规范性的。</p>

<p len="896"><font lang="zh-CHS">各种计时信息的资源请求的方式和过程时， <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-resource-timing-20110524%2F%23performance-resource-timing" target="_top" len="14">ResourceTiming</a>接口可能公开这种向已包含此资源的任何页面的信息。</font><font lang="zh-CHS">若要限制对 ResourceTiming 接口的访问，在默认情况下执行的<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2Forigin-0.html%23origin" target="_top" len="11">起源相同</a>策略。</font><font lang="zh-CHS">此外，资源提供者可以通过将允许定时 meta 标记添加到 HTML 标头，指定允许访问的计时信息的域被收集在一个资源的方法允许计时信息。</font></p>

<h2 id="security" len="37"><font lang="zh-CHS"><span class="secno" len="2">7</span></font><font lang="zh-CHS">安全</font></h2>

<p len="30" lang="zh-CHS">这一节是非规范性的。</p>

<p len="50" lang="zh-CHS">类似于隐私部分中讨论。</p>

<h2 class="no-num" id="acknowledgements" len="16" lang="zh-CHS">鸣谢</h2>

<p len="230" lang="zh-CHS">我们要真诚地感谢安妮 · 沙利文、 达林费希尔、 詹姆斯 · 西蒙森、 杰森 · 韦伯、 乔纳斯 · Sicking、 凯伦 · 安德森、 凯尔 Scholz、 Nic、 史蒂夫何在和托尼 Gentilcore 承认他们的贡献对这项工作。</p>

<h2 class="no-num" id="references" len="10" lang="zh-CHS">引用</h2>

<dl len="6364">
   <dt len="50"><a name="rfc2119" id="rfc2119" len="15" lang="zh-CHS">[IETF RFC 2119]</a></dt>
   <dd len="495">
    <font><font lang="zh-CHS"><cite len="201"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.ietf.org%2Frfc%2Frfc2119.txt" target="_top">关键词的使用中指示要求水平的 Rfc</a></cite>，斯科特 · 布拉德纳，作者。</font><font lang="zh-CHS">互联网工程任务组，1997 年 3 月。</font><font lang="zh-CHS">可在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.ietf.org%2Frfc%2Frfc2119.txt" target="_top" len="35">http://www.ietf.org/rfc/rfc2119.txt</a></font></font>.
   </dd>

   <dt id="ref-origin" len="8" lang="zh-CHS">[来源]</dt>
   <dd len="489"><font><font lang="zh-CHS"><cite len="181"> <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Fdraft-abarth-origin" target="_top">Web 原产地概念</a></cite>，A.Barth，作者。</font><font lang="zh-CHS">互联网工程任务组，2010 年 11 月。</font><font lang="zh-CHS">可在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Fdraft-abarth-origin" target="_top" len="46">http://tools.ietf.org/html/draft-abarth-origin</a></font></font>.
   </dd>

   <dt len="50"><a name="rfc2616" id="rfc2616" len="15" lang="zh-CHS">[IETF RFC 2616]</a></dt>
   <dd len="478"><font><font lang="zh-CHS"><cite len="184"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.ietf.org%2Frfc%2Frfc2616.txt" target="_top">超文本传输协议-HTTP/1.1</a></cite>、 R.菲尔丁 et al.，作者。</font><font lang="zh-CHS">互联网工程任务组，1999 年 6 月。</font><font lang="zh-CHS">可在<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.ietf.org%2Frfc%2Frfc2616.txt" target="_top" len="35">http://www.ietf.org/rfc/rfc2616.txt</a></font></font>.
   </dd>

    <dt len="55">[<a name="DOM3Core" id="DOM3Core" len="16" lang="zh-CHS">DOM 级别 3 核心</a>]</dt>
    <dd len="735">
     <font><font lang="zh-CHS"><cite len="223"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2004%2FREC-DOM-Level-3-Core-20040407%2F" target="_top">文档对象模型第 3 级核心规范</a></cite>，A.Le 开胃，et al.，编辑。</font><font lang="zh-CHS">万维网联合会，2004 年 4 月 7 日。</font><font lang="zh-CHS">此版本的文档对象模型级别 3 核心建议是 http://www.w3.org/TR/2004/REC-DOM-Level-3-Core-20040407。</font><font lang="zh-CHS">在 http://www.w3.org/TR/DOM-Level-3-Core 是<a class="normative" href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2FDOM-Level-3-Core%2F" target="_top" len="39">最新版本的 DOM 级别 3 核心</a>。</font></font></dd>

    <dt len="45">[<a name="ECMA262" id="ECMA262" len="8" lang="zh-CHS">ECMA 262</a>]</dt>
    <dd len="642">
     <font><font lang="zh-CHS"><cite len="214"> <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.ecma-international.org%2Fpublications%2Fstandards%2FEcma-262.htm" target="_top">ECMAScript 语言规范</a></cite>，5<sup len="2">th</sup>版。</font><font lang="zh-CHS">ECMA 国际标准 ECMA 262，2009 年 12 月。</font><font lang="zh-CHS">此版本的 ECMAScript 语言是可从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.ecma-international.org%2Fpublications%2Fstandards%2FEcma-262.htm" target="_top" len="69">http://www.ecma-international.org/publications/standards/Ecma-262.htm</a></font></font>.
    </dd>

    <dt len="43">[<a name="XHR" id="XHR" len="14" lang="zh-CHS">客户端代码</a>]</dt>
    <dd len="678">
     <font><font lang="zh-CHS"><cite len="181"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2010%2FCR-XMLHttpRequest-20100803%2F" target="_top">客户端代码</a></cite>，Anne van Kesteren，编辑器。</font><font lang="zh-CHS">万维网联合会，2010 年 8 月。</font><font lang="zh-CHS">此版本的客户端代码候选推荐是 http://www.w3.org/TR/2010/CR-XMLHttpRequest-20100803/。</font><font lang="zh-CHS"><a class="normative" href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2FXMLHttpRequest%2F" target="_top" len="37">最新版本的客户端代码</a>是在 http://www.w3.org/TR/XMLHttpRequest/。</font></font></dd>
   <dt len="38">[<a name="HTML5" id="HTML5" len="5" lang="zh-CHS">HTML5</a>]</dt>
   <dd len="642"><font lang="zh-CHS"><cite len="144"> <a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2F" target="_top">HTML5</a></cite>，伊恩 · 海克，编辑器。</font><font lang="zh-CHS">万维网联合会，2011 年 5 月。</font><font lang="zh-CHS">此版本的 HTML5 是可从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fhtml5%2F" target="_top" len="27">http://www.w3.org/TR/html5/</a>。</font><font lang="zh-CHS">在 http://dev.w3.org/html5/spec/ 提供<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fspec%2F" target="_top" len="21">最新编辑器的草案</a>。</font></dd>
   <dt len="32">[<a name="SVG" id="SVG" len="3" lang="zh-CHS">SVG</a>]</dt>
   <dd len="741"><font lang="zh-CHS"><cite len="192"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-SVG11-20110512%2F" target="_top">可缩放矢量图形 (SVG) 1.1</a></cite>、 埃里克 · Dahlström、 et al.，编辑。</font><font lang="zh-CHS">万维网联合会，2011 年 5 月。</font><font lang="zh-CHS">SVG 规范的此版本可从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FWD-SVG11-20110512%2F" target="_top" len="44">http://www.w3.org/TR/2011/WD-SVG11-20110512/</a>。</font><font lang="zh-CHS"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2FSVG%2F" target="_top" len="21">最新版本的 SVG</a>是可在 http://www.w3.org/TR/SVG/。</font></dd>

   <dt len="72">[<a name="NavigationTiming" id="NavigationTiming" len="17" lang="zh-CHS">导航定时</a>]</dt>
   <dd len="808"><font lang="zh-CHS"><cite len="187"><a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FCR-navigation-timing-20110315%2F" target="_top">导航定时</a></cite>，志恒王编辑器。</font><font lang="zh-CHS">万维网联合会，2011 年 3 月。</font><font lang="zh-CHS">导航定时规范的此版本可从<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2F2011%2FCR-navigation-timing-20110315%2F" target="_top" len="56">http://www.w3.org/TR/2011/CR-navigation-timing-20110315/</a>。</font><font lang="zh-CHS">在 http://www.w3.org/TR/navigation-timing/ 是<a href="http://www.microsofttranslator.com/bv.aspx?from=en&amp;to=zh-CHS&amp;a=http%3A%2F%2Fwww.w3.org%2FTR%2Fnavigation-timing%2F" target="_top" len="35">最新版本的导航定时</a>。</font></dd>
</dl>

</div>



                                        
                                        <div translate="no" len="738" style="display: none; position: absolute; z-index: 2147483647; margin: 0px; border: 2px solid rgb(210, 210, 210); padding: 0px; color: rgb(0, 0, 0); background-color: rgb(230, 230, 230); font-family: Arial, Helvetica, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 12px; line-height: normal; direction: ltr; text-align: left; left: 70px; top: 98.390625px; width: 160px;"><div style="float: right;"><a href="http://www.bing.com/translator" target="_blank" style="display: inline-block; margin: 4px 4px 0px; border: 0px none; cursor: pointer; text-decoration: none;"><img src="http://www.microsofttranslator.com/static/195625/img/tooltip_logo.gif" style="border: 0px none;"></a><a style="display: inline-block; cursor: pointer; text-decoration: none; vertical-align: top; border: 0px none; padding: 4px;"><img src="http://www.microsofttranslator.com/static/195625/img/tooltip_close.gif"></a></div><div style="margin: 4px 4px 8px; font-weight: bold; color: rgb(0, 0, 0);">Original</div><div style="direction: ltr; text-align: left;"><span style="display: inline-block; margin: 0px 4px 4px;">Resource Timing</span></div></div></body>